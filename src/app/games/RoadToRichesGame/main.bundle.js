(()=>{var t={1673:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return t instanceof f}var p={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},f=Phaser.Scene,d=Phaser.Utils.Objects.GetValue,v=function(){function n(i,o){var r;e(this,n),this.parent=i,this.scene=null==(r=i)||"object"!==t(r)?null:l(r)?r:r.scene&&l(r.scene)?r.scene:r.parent&&r.parent.scene&&l(r.parent.scene)?r.parent.scene:void 0,this.isShutdown=!1,this.setEventEmitter(d(o,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}return i(n,[{key:"shutdown",value:function(){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onSceneDestroy",value:function(){this.destroy(!0)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}}]),n}();Object.assign(v.prototype,p);var y=Phaser.Utils.Objects.GetValue,m=function(){o(n,v);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,i,o))._enable=void 0,i.setInteractive(y(o,"inputConfig",void 0)),r.resetFromJSON(o),r.boot(),r}return i(n,[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(y(t,"enable",!0)),this.setMode(y(t,"mode",1)),this.setClickInterval(y(t,"clickInterval",100)),this.setDragThreshold(y(t,"threshold",void 0)),this}},{key:"boot",value:function(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this)}},{key:"shutdown",value:function(t){this.isShutdown||(this.pointer=null,h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t){t||this.cancel();var e=(this._enable=t)?"enable":"disable";this.emit(e,this,this.parent)}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t,e,n,i){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t,i))}},{key:"onRelease",value:function(t,e,n,i){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t,i),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e,n){if(!this.enable)return this;if(void 0===t)return this.emit("click",this,this.parent,e,n),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval||(this.lastClickTime=t,this.emit("click",this,this.parent,e,n)),this}},{key:"cancel",value:function(){return this.pointer=void 0,this}}]),n}(),g={press:0,pointerdown:0,release:1,pointerup:1};return function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){return e(this,n),t.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new m(t,e)}}]),n}()},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},7857:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t){void 0===t&&(t=.1);var e=Math.max(100*t,1),n=(2*Math.PI/e).toFixed(7);return"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform vec2 texSize;\nuniform float thickness;\nuniform vec3 outlineColor; // (0, 0, 0);\n\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\n\nvec4 GetOutlineColor(vec4 front, float width, vec3 color) {\n  if (width > 0.0) {\n    vec2 mag = vec2(width/texSize.x, width/texSize.y);\n    vec4 curColor;\n    float maxAlpha = front.a;\n    vec2 offset;\n    for (float angle = 0.; angle < DOUBLE_PI; angle += #{angleStep}) {\n        offset = vec2(mag.x * cos(angle), mag.y * sin(angle));        \n        curColor = texture2D(uMainSampler, outTexCoord + offset);\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    vec3 resultColor = front.rgb + (color.rgb * (1. - front.a)) * maxAlpha;\n    return vec4(resultColor, maxAlpha);\n  } else {\n    return front;\n  }\n}\n\nvoid main() {\n  vec4 front = texture2D(uMainSampler, outTexCoord);\n  gl_FragColor = GetOutlineColor(front, thickness, outlineColor);\n}\n".replace(/\#\{angleStep\}/,n)}function l(t){return null==t||""===t||0===t.length}var p=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,f=Phaser.Utils.Objects.GetValue,d=Phaser.Display.Color.IntegerToRGB,v=Phaser.Display.Color,y=.1,m=h(y),g=function(){o(n,p);var t=u(n);function n(i){var o;return e(this,n),(o=t.call(this,{name:"rexOutlinePostFx",game:i,renderTarget:!0,fragShader:m})).thickness=0,o._outlineColor=new v,o}return i(n,[{key:"resetFromJSON",value:function(t){return this.setThickness(f(t,"thickness",3)),this.setOutlineColor(f(t,"outlineColor",16777215)),this}},{key:"onPreRender",value:function(){this.set1f("thickness",this.thickness),0<this.thickness&&this.set3f("outlineColor",this._outlineColor.redGL,this._outlineColor.greenGL,this._outlineColor.blueGL),this.set2f("texSize",this.renderer.width,this.renderer.height)}},{key:"setThickness",value:function(t){return this.thickness=t,this}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(t){"number"==typeof t&&(t=d(t)),this._outlineColor.setFromRGB(t)}},{key:"setOutlineColor",value:function(t){return this.outlineColor=t,this}}],[{key:"setQuality",value:function(t){m=h(y=t)}},{key:"getQuality",value:function(){return y}}]),n}(),b=Phaser.Utils.Array.SpliceOne,_=function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(){return e(this,n),t.apply(this,arguments)}return i(n,[{key:"setPostPipelineClass",value:function(t,e){return this.PostFxPipelineClass=t,this.postFxPipelineName=e,this}},{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this),this.game.renderer.pipelines.addPostPipeline(this.postFxPipelineName,this.PostFxPipelineClass)}},{key:"add",value:function(t,e){void 0===e&&(e={}),t.setPostPipeline(this.PostFxPipelineClass);var n=t.postPipelines[t.postPipelines.length-1];return n.resetFromJSON(e),e.name&&(n.name=e.name),n}},{key:"remove",value:function(t,e){var n=this.PostFxPipelineClass;if(void 0===e)for(var i=(o=t.postPipelines).length-1;0<=i;i--)(s=o[i])instanceof n&&(s.destroy(),b(o,i));else{i=0;for(var o,r=(o=t.postPipelines).length;i<r;i++){var s;(s=o[i])instanceof n&&s.name===e&&(s.destroy(),b(o,i))}}return this}},{key:"get",value:function(t,e){var n,i=this.PostFxPipelineClass;if(void 0===e){for(var o=[],r=0,s=(n=t.postPipelines).length;r<s;r++)(a=n[r])instanceof i&&o.push(a);return o}for(r=0,s=(n=t.postPipelines).length;r<s;r++){var a;if((a=n[r])instanceof i&&a.name===e)return a}}}]),n}(),E=function(){o(n,_);var t=u(n);function n(i){var o;return e(this,n),(o=t.call(this,i)).setPostPipelineClass(g,"rexOutlinePostFx"),o}return i(n,[{key:"setQuality",value:function(t){return g.setQuality(t),this}},{key:"quality",get:function(){return g.getQuality()},set:function(t){this.setQuality(t)}}]),n}();return function(e,n,i){if("object"===t(e))if(l(n)){if(null==i)return;"object"===t(i)&&(e=i)}else{"string"==typeof n&&(n=n.split("."));var o=n.pop();(function(e,n,i){var o=e;if(!l(n)){var r;"string"==typeof n&&(n=n.split("."));for(var s=0,a=n.length;s<a;s++){var c;null!=o[r=n[s]]&&"object"===t(o[r])||(c={},o[r]=c),o=o[r]}}return o}(e,n))[o]=i}}(window,"RexPlugins.Pipelines.OutlinePostFx",g),E},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},6441:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i,o,a=r(t);if(e){var u=r(this).constructor;n=Reflect.construct(a,arguments,u)}else n=a.apply(this,arguments);return i=this,!(o=n)||"object"!=s(o)&&"function"!=typeof o?c(i):o}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return t instanceof f}var p={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},f=Phaser.Scene,d=Phaser.Utils.Objects.GetValue,v=function(){function n(i,o){var r;e(this,n),this.parent=i,this.scene=null==(r=i)||"object"!==t(r)?null:l(r)?r:r.scene&&l(r.scene)?r.scene:r.parent&&r.parent.scene&&l(r.parent.scene)?r.parent.scene:void 0,this.isShutdown=!1,this.setEventEmitter(d(o,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}return i(n,[{key:"shutdown",value:function(){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onSceneDestroy",value:function(){this.destroy(!0)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}}]),n}();function y(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1===e.indexOf("."))return n;for(var i=e.split("."),o=t,r=n,s=0;s<i.length;s++){if(!o.hasOwnProperty(i[s])){r=n;break}r=o[i[s]],o=o[i[s]]}return r}return n}Object.assign(v.prototype,p);var m=function(){function t(n){e(this,t);var i=y(n,"states",void 0);i&&this.addStates(i);var o=y(n,"extend",void 0);if(o)for(var r in o)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=o[r]);var s=y(n,"eventEmitter",void 0),a=y(n,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(n)}return i(t,[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(y(t,"enable",!0)),this.start(y(t,"start",void 0));var e=y(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"state",get:function(){return this._state},set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,n=this[e];n&&n.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,o=this[i];o&&o.call(this),this.emit(i,this)}}}},{key:"prevState",get:function(){return this._prevState}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var n=y(e,"next",void 0);n&&(this["next_"+t]=n);var i=y(e,"exit",void 0);i&&(this["exit_"+t]=i);var o=y(e,"enter",void 0);return o&&(this["enter_"+t]=o),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,n){void 0===n&&(n="update");var i=this[n+"_"+this.state];i&&i.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}}]),t}();Object.assign(m.prototype,p);var g=function(){o(n,m);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,o)).parent=i,r.init(),r}return i(n,[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(){var t=this.parent;t.dragState.justMoved&&t.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}]),n}(),b=Phaser.Utils.Objects.GetValue,_=Phaser.Math.Distance.Between,E=function(){o(n,v);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,i,o))._enable=void 0,i.setInteractive(b(o,"inputConfig",void 0)),r.resetFromJSON(o),r.boot(),r}return i(n,[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(b(t,"enable",!0)),this.holdThreshold=b(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(t){this.isShutdown||(this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"enable",get:function(){return this._enable},set:function(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:_(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}},{key:"onPointIn",value:function(t,e,n){this.enable&&t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=n)}},{key:"onPointOut",value:function(t){this.enable&&this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,n){this.enable&&t.isDown&&this.pointer===t&&(this.localX=e,this.localY=n)}},{key:"preupdate",value:function(t){if(this.enable){var e=this.pointer;this.justMoved=!1,e&&!this.isInTouched?(this.x=e.x,this.y=e.y,this.preX=e.x,this.preY=e.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",e,this.localX,this.localY)):e&&this.isInTouched?this.x===e.x&&this.y===e.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=e.x,this.y=e.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",e,this.localX,this.localY)):!e&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",e))}}}]),n}(),w=Phaser.Utils.Objects.GetValue,S=function(){function t(n){e(this,t),this.resetFromJSON(n)}return i(t,[{key:"resetFromJSON",value:function(t){return this.setValue(w(t,"value",0)),this.setSpeed(w(t,"speed",0)),this.setAcceleration(w(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),0<this.speed&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return 0<this.speed}}]),t}(),k=function(){function t(){e(this,t),this.value,this.dir,this.movement=new S}return i(t,[{key:"init",value:function(t,e,n,i,o){return this.value=t,this.end=o,this.dir=void 0!==o?t<o:e,this.movement.setSpeed(n).setAcceleration(-i),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}]),t}(),O=Phaser.Utils.Objects.GetValue,P=function(){o(n,v);var t=u(n);function n(i,o){var r;e(this,n),r=t.call(this,i,o);var s=O(o,"enable",!0),a={enable:s,eventEmitter:!1};r._state=new g(c(r),a);var u={inputConfig:O(o,"inputConfig",void 0),enable:s,eventEmitter:!1};r.dragState=new E(i,u),r._enable=void 0,r._value=void 0,r._slowDown=new k;var h=O(o,"valuechangeCallback",null);if(null!==h){var l=O(o,"valuechangeCallbackScope",void 0);r.on("valuechange",h,l)}return null!==(h=O(o,"overmaxCallback",null))&&(l=O(o,"overmaxCallbackScope",void 0),r.on("overmax",h,l)),null!==(h=O(o,"overminCallback",null))&&(l=O(o,"overminCallbackScope",void 0),r.on("overmin",h,l)),r.resetFromJSON(o),r.boot(),r}return i(n,[{key:"resetFromJSON",value:function(t){this.setOrientationMode(O(t,"orientation",0)),this.setDragThreshold(O(t,"threshold",10)),this.setSlidingDeceleration(O(t,"slidingDeceleration",5e3)),this.setBackDeceleration(O(t,"backDeceleration",2e3));var e=O(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(O(t,"max",0),O(t,"min",0)),this.setValue(O(t,"value",this.maxValue||0)),this.setEnable(O(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state)}},{key:"shutdown",value:function(t){this.isShutdown||(this.scene.events.off("update",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=C[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var n=t;t=n[0],e=n[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,n=this.overMax(t),i=this.overMin(t);n&&this.emit("overmax",t,e),i&&this.emit("overmin",t,e),this.backEnable||(n&&(t=this.maxValue),i&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"setValue",value:function(t){this.value=t}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var n=this.slidingDeceleration;this._slowDown.init(t,0<e,Math.abs(e),n)}},{key:"sliding",value:function(t,e){e*=.001;var n=this._slowDown.update(e).value;this.overMax(n)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(n)?(this.value=this.minValue,this._slowDown.stop()):this.value=n}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,n=Math.abs(e-t),i=this.backDeceleration,o=Math.sqrt(2*i*n);this._slowDown.init(t,void 0,o,i,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}}]),n}(),C={y:0,v:0,vertical:0,x:1,h:1,horizontal:1};return function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){return e(this,n),t.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new P(t,e)}}]),n}()},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},4302:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return t instanceof f}var p={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},f=Phaser.Scene,d=Phaser.Utils.Objects.GetValue,v=function(){function n(i,o){var r;e(this,n),this.parent=i,this.scene=null==(r=i)||"object"!==t(r)?null:l(r)?r:r.scene&&l(r.scene)?r.scene:r.parent&&r.parent.scene&&l(r.parent.scene)?r.parent.scene:void 0,this.isShutdown=!1,this.setEventEmitter(d(o,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}return i(n,[{key:"shutdown",value:function(){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onSceneDestroy",value:function(){this.destroy(!0)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}}]),n}();Object.assign(v.prototype,p);var y=Phaser.Utils.Objects.GetValue,m=function(){o(n,v);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,i,o))._isRunning=!1,r.isPaused=!1,r.tickingState=!1,r.setTickingMode(y(o,"tickingMode",1)),r}return i(n,[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(t){this.isShutdown||(this.tickingState&&this.stopTicking(),h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=g[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}},{key:"start",value:function(){return this.isPaused=!1,this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}},{key:"resume",value:function(){return this.isPaused&&(this.isRunning=!0),this}},{key:"stop",value:function(){return this.isPaused=!1,this.isRunning=!1,this}},{key:"complete",value:function(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}]),n}(),g={no:0,lazy:1,always:2},b=Phaser.Utils.Objects.GetValue,_=function(){o(n,m);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,i,o)).resetFromJSON(o),r.boot(),r}return i(n,[{key:"resetFromJSON",value:function(t){return this.setMode(b(t,"mode",1)),this.isRunning=b(t,"isRunning",!1),this.setEnable(b(t,"enable",!0)),this.timeScale=b(t,"timeScale",1),this.setMagnitudeMode(b(t,"magnitudeMode",1)),this.setDuration(b(t,"duration",500)),this.setMagnitude(b(t,"magnitude",10)),this.nowTime=b(t,"nowTime",0),this.ox=b(t,"ox",void 0),this.oy=b(t,"oy",void 0),this}},{key:"toJSON",value:function(){return{mode:this.mode,isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,magnitudeMode,duration:this.duration,magnitude:this.magnitude,nowTime:this.nowTime,ox:this.ox,oy:this.oy}}},{key:"startTicking",value:function(){h(r(n.prototype),"startTicking",this).call(this),0===this.mode?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("step",this.backToOrigin,this)):this.scene.events.on("preupdate",this.update,this)}},{key:"stopTicking",value:function(){h(r(n.prototype),"stopTicking",this).call(this),this.scene&&(0===this.mode?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("step",this.backToOrigin,this)):this.scene.events.off("preupdate",this.update,this))}},{key:"setEnable",value:function(t){return null==t&&(t=!0),this.enable=t,this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=E[t]),this.mode=t,this}},{key:"setMagnitudeMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.magnitudeMode=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setMagnitude",value:function(t){return this.magnitude=t,this}},{key:"start",value:function(t,e){if("number"!=typeof t){var i=t;e=b(i,"magnitude",void 0),t=b(i,"duration",void 0)}return void 0!==e&&this.setMagnitude(e),void 0!==t&&this.setDuration(t),this.nowTime=0,h(r(n.prototype),"start",this).call(this),this}},{key:"shake",value:function(t,e){return this.start(t,e),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(this.nowTime+=e*this.timeScale,this.nowTime>=this.duration)this.backToOrigin(),this.complete();else{void 0===this.ox&&(this.ox=n.x,this.oy=n.y);var i=this.magnitude;1===this.magnitudeMode&&(i*=(this.duration-this.nowTime)/this.duration);var o=Math.random()*Math.PI*2,r=Math.cos(o)*i,s=Math.sin(o)*i;n.setPosition(this.ox+r,this.oy+s)}return this}},{key:"backToOrigin",value:function(){if(!this.isRunning||!this.enable)return this;if(void 0===this.ox)return this;var t=this.parent;return this.ox===t.x&&this.oy===t.y||(t.setPosition(this.ox,this.oy),this.ox=void 0,this.oy=void 0),this}}]),n}(),E={effect:0,behavior:1},w={constant:0,decay:1};return function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){return e(this,n),t.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new _(t,e)}}]),n}()},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},8546:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t){var e,n,i,o,r,s,a=t.rectangle;s=a?(e=a.x,i=a.y,r=a.width,a.height):(i=e=0,r=t.width,t.height),n=e+r,o=i+s;var c,u,h=t.center;u=void 0===h?(c=(e+n)/2,(i+o)/2):(c=v(h.x,e,n),v(h.y,i,o));var l=[];l.push([c,u]);for(var y=d(t,"samplesPerRing",12),g=d(t,"variation",.25),b=Math.min(r,s),_=1-g,E=1+g,w=0;w<3;w++)m(l,c,u,b*Math.pow(3,w)/27,y,_,E,e,n,i,o);return b=2*Math.min(r,s),m(l,c,u,b,y,_,E,e,n,i,o),function(t,e){void 0===e&&(e=!0);var n=p.triangulate(t);if(e){for(var i=[],o=0,r=n.length;o<r;o+=3){var s=t[n[o+0]],a=t[n[o+1]],c=t[n[o+2]],u=new f(s[0],s[1],a[0],a[1],c[0],c[1]);i.push(u)}return i}return{vertices:t,indices:n}}(l,d(t,"triangleOutput",!0))}var l,p=(function(t){var e,n;function i(t,e,i,o){var r,s,a,c,u,h,l,p,f,d,v=t[e][0],y=t[e][1],m=t[i][0],g=t[i][1],b=t[o][0],_=t[o][1],E=Math.abs(y-g),w=Math.abs(g-_);if(E<n&&w<n)throw new Error("Eek! Coincident points!");return s=E<n?(c=-(b-m)/(_-g))*((r=(m+v)/2)-(h=(m+b)/2))+(p=(g+_)/2):w<n?(a=-(m-v)/(g-y))*((r=(b+m)/2)-(u=(v+m)/2))+(l=(y+g)/2):(r=((a=-(m-v)/(g-y))*(u=(v+m)/2)-(c=-(b-m)/(_-g))*(h=(m+b)/2)+(p=(g+_)/2)-(l=(y+g)/2))/(a-c),w<E?a*(r-u)+l:c*(r-h)+p),{i:e,j:i,k:o,x:r,y:s,r:(f=m-r)*f+(d=g-s)*d}}function o(t){var e,n,i,o,r,s;for(n=t.length;n;)for(o=t[--n],i=t[--n],e=n;e;)if(s=t[--e],i===(r=t[--e])&&o===s||i===s&&o===r){t.splice(n,2),t.splice(e,2);break}}n=1/1048576,e={triangulate:function(t,e){var r,s,a,c,u,h,l,p,f,d,v,y,m=t.length;if(m<3)return[];if(t=t.slice(0),e)for(r=m;r--;)t[r]=t[r][e];for(a=new Array(m),r=m;r--;)a[r]=r;for(a.sort((function(e,n){return t[n][0]-t[e][0]})),c=function(t){var e,n,i,o,r,s,a=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<a&&(a=t[e][0]),t[e][0]>u&&(u=t[e][0]),t[e][1]<c&&(c=t[e][1]),t[e][1]>h&&(h=t[e][1]);return i=h-c,[[(r=a+.5*(n=u-a))-20*(o=Math.max(n,i)),(s=c+.5*i)-o],[r,s+20*o],[r+20*o,s-o]]}(t),t.push(c[0],c[1],c[2]),u=[i(t,m+0,m+1,m+2)],h=[],l=[],r=a.length;r--;l.length=0){for(y=a[r],s=u.length;s--;)0<(p=t[y][0]-u[s].x)&&p*p>u[s].r?(h.push(u[s]),u.splice(s,1)):p*p+(f=t[y][1]-u[s].y)*f-u[s].r>n||(l.push(u[s].i,u[s].j,u[s].j,u[s].k,u[s].k,u[s].i),u.splice(s,1));for(o(l),s=l.length;s;)v=l[--s],d=l[--s],u.push(i(t,d,v,y))}for(r=u.length;r--;)h.push(u[r]);for(u.length=0,r=h.length;r--;)h[r].i<m&&h[r].j<m&&h[r].k<m&&u.push(h[r].i,h[r].j,h[r].k);return u},contains:function(t,e){if(e[0]<t[0][0]&&e[0]<t[1][0]&&e[0]<t[2][0]||e[0]>t[0][0]&&e[0]>t[1][0]&&e[0]>t[2][0]||e[1]<t[0][1]&&e[1]<t[1][1]&&e[1]<t[2][1]||e[1]>t[0][1]&&e[1]>t[1][1]&&e[1]>t[2][1])return null;var n=t[1][0]-t[0][0],i=t[2][0]-t[0][0],o=t[1][1]-t[0][1],r=t[2][1]-t[0][1],s=n*r-i*o;if(0==s)return null;var a=(r*(e[0]-t[0][0])-i*(e[1]-t[0][1]))/s,c=(n*(e[1]-t[0][1])-o*(e[0]-t[0][0]))/s;return a<0||c<0||1<a+c?null:[a,c]}},t.exports=e}(l={exports:{}}),l.exports),f=Phaser.Geom.Triangle,d=Phaser.Utils.Objects.GetValue,v=Phaser.Math.Clamp,y=2*Math.PI,m=function(t,e,n,i,o,r,s,a,c,u,h){for(var l=0;l<o;l++){var p=l/o*y,f=e+Math.cos(p)*i*g(r,s),d=n+Math.sin(p)*i*g(r,s);f=v(f,a,c),d=v(d,u,h),t.push([f,d])}return t},g=function(t,e){return t===e?t:t+(e-t)*Math.random()},b=Phaser.Geom.Mesh.Face,_=Phaser.Math.DegToRad,E=Phaser.Math.RadToDeg,w=Phaser.Geom.Mesh.RotateFace,S=function(){o(n,b);var t=u(n);function n(i,o,r){var s;return e(this,n),(s=t.call(this,i,o,r))._rotation=0,s}return i(n,[{key:"rotation",get:function(){return this._rotation},set:function(t){w(this,t-this._rotation),this._rotation=t}},{key:"setRotation",value:function(t){return this.rotation=t,this}},{key:"angle",get:function(){return E(this.rotation)},set:function(t){this.rotation=_(t)}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setAlpha",value:function(t){return this.alpha=t,this}}]),n}(),k=Phaser.GameObjects.Mesh,O=Phaser.Utils.Objects.IsPlainObject,P=Phaser.Utils.Objects.GetValue,C=Phaser.Geom.Mesh.GenerateGridVerts,T=Phaser.Geom.Mesh.Vertex,R=Phaser.Math.Distance.Squared,x=function(){o(n,k);var t=u(n);function n(i,o,r,s,a,c){var u;return e(this,n),O(o)&&(o=P(c=o,"x",0),r=P(c,"y",0),s=P(c,"key",null),a=P(c,"frame",null)),(u=t.call(this,i,o,r,s,a)).type="rexShatterImage",u.setSizeToFrame(),u.setOrtho(),u.hideCCW=!1,u.resetImage(),u.shatterCenter={x:null,y:null},u.setVariation(P(c,"variation",.25)),u.setSamplesPerRing(P(c,"samplesPerRing",12)),u}return i(n,[{key:"setVariation",value:function(t){return this.variation=t,this}},{key:"setSamplesPerRing",value:function(t){return this.samplesPerRing=t,this}},{key:"resetImage",value:function(){return this.clear(),this.dirtyCache[9]=-1,C({mesh:this,texture:this.texture.key,frame:this.frame.name,width:this.frame.cutWidth/this.height,height:this.frame.cutHeight/this.height,flipY:this.frame.source.isRenderTexture}),this}},{key:"shatter",value:function(t,e){if(void 0===t&&(t=this.width/2,e=this.height/2),this.shatterCenter.x=t,this.shatterCenter.y=e,this.clear(),this.dirtyCache[9]=-1,0===this.width||0===this.height)return this;for(var n=h({width:this.width,height:this.height,center:this.shatterCenter,triangleOutput:!1,variation:this.variation,samplesPerRing:this.samplesPerRing}),i=n.vertices,o=n.indices,r=[],s=this.width,a=this.height,c=this.frame.cutWidth/a/2,u=this.frame.cutHeight/a/2,l=this.frame.source.isRenderTexture,p=this.frame.u0,f=this.frame.u1,d=l?this.frame.v1:this.frame.v0,v=f-p,y=(l?this.frame.v0:this.frame.v1)-d,m=0,g=i.length;m<g;m++){var b=i[m],_=b[0],E=b[1];r.push({g:R(t,e,_,E),x:_/a-c,y:E/a-u,u:p+_/s*v,v:d+E/a*y})}for(m=0,g=o.length;m<g;m+=3){var w=r[o[m+0]],k=r[o[m+1]],O=r[o[m+2]],P=new T(w.x,-w.y,0,w.u,w.v),C=new T(k.x,-k.y,0,k.u,k.v),x=new T(O.x,-O.y,0,O.u,O.v),A=new S(P,C,x);this.vertices.push(P,C,x),this.faces.push(A),A.g=Math.min(w.g,k.g,O.g)}return this.faces.sort((function(t,e){return t.g-e.g})),this}},{key:"startUpdate",value:function(){return this.ignoreDirtyCache=!0,this}},{key:"stopUpdate",value:function(){return this.ignoreDirtyCache=!1,this}}]),n}();function A(t,e,n,i,o){var r=new x(this.scene,t,e,n,i,o);return this.scene.add.existing(r),r}var B=Phaser.Utils.Objects.GetAdvancedValue,M=Phaser.GameObjects.BuildGameObject;function L(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var n=B(t,"key",null),i=B(t,"frame",null),o=new x(this.scene,0,0,n,i,t);return M(this.scene,o,t),o}function I(t){return null==t||""===t||0===t.length}var D=function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){var o;return e(this,n),o=t.call(this,i),i.registerGameObject("rexShatterImage",A,L),o}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),n}();return function(e,n,i){if("object"===t(e))if(I(n)){if(null==i)return;"object"===t(i)&&(e=i)}else{"string"==typeof n&&(n=n.split("."));var o=n.pop();(function(e,n,i){var o=e;if(!I(n)){var r;"string"==typeof n&&(n=n.split("."));for(var s=0,a=n.length;s<a;s++){var c;null!=o[r=n[s]]&&"object"===t(o[r])||(c={},o[r]=c),o=o[r]}}return o}(e,n))[o]=i}}(window,"RexPlugins.GameObjects.ShatterImage",x),D},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},68:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i,o,a=r(t);if(e){var u=r(this).constructor;n=Reflect.construct(a,arguments,u)}else n=a.apply(this,arguments);return i=this,!(o=n)||"object"!=s(o)&&"function"!=typeof o?c(i):o}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return t instanceof f}var p={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},f=Phaser.Scene,d=Phaser.Utils.Objects.GetValue,v=function(){function n(i,o){var r;e(this,n),this.parent=i,this.scene=null==(r=i)||"object"!==t(r)?null:l(r)?r:r.scene&&l(r.scene)?r.scene:r.parent&&r.parent.scene&&l(r.parent.scene)?r.parent.scene:void 0,this.isShutdown=!1,this.setEventEmitter(d(o,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}return i(n,[{key:"shutdown",value:function(){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onSceneDestroy",value:function(){this.destroy(!0)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}}]),n}();function y(t,e,n){var i,o;for(var r in void 0===n&&(n={}),t)i=t[r],void 0!==(o=m(e,r,i[1]))&&(n[i[0]]=o);return n}Object.assign(v.prototype,p);var m=Phaser.Utils.Objects.GetValue,g=function(t){t.stopPropagation()},b=Phaser.GameObjects.DOMElement,_=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue,w=function(){o(n,b);var t=u(n);function n(i,o,r,s,a,u){var h,l;e(this,n),_(o)?(o=E(u=o,"x",0),r=E(u,"y",0),s=E(u,"width",0),a=E(u,"height",0)):_(s)&&(s=E(u=s,"width",0),a=E(u,"height",0)),void 0===u&&(u={});var p=E(u,"type","text");"textarea"===p?(l=document.createElement("textarea")).style.resize="none":(l=document.createElement("input")).type=p,y(k,u,l);var f=E(u,"style",void 0);f=y(O,u,f);var d,v=l.style;for(var m in u)m in k||m in O||m in v&&(f[m]=u[m]);return f["box-sizing"]="border-box",(h=t.call(this,i,o,r,l,f)).type="rexInputText",h.resize(s,a),function(t,e,n){function i(i){e[n[i]]=function(e){t.emit(i,t,e)}}for(var o in n)i(o)}(c(h),l,P),(d=l).addEventListener("touchstart",g,!1),d.addEventListener("touchmove",g,!1),d.addEventListener("touchend",g,!1),d.addEventListener("mousedown",g,!1),d.addEventListener("mouseup",g,!1),d.addEventListener("mousemove",g,!1),E(u,"selectAll",!1)&&h.selectAll(),h}return i(n,[{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"setText",value:function(t){return this.text=t,this}},{key:"maxLength",get:function(){return this.node.maxLength},set:function(t){this.node.maxLength=t}},{key:"setMaxLength",value:function(t){return this.maxLength=t,this}},{key:"minLength",get:function(){return this.node.minLength},set:function(t){this.node.minLength=t}},{key:"setMinLength",value:function(t){return this.minLength=t,this}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"fontColor",get:function(){return this.node.style.color},set:function(t){this.node.style.color=t}},{key:"setFontColor",value:function(t){return this.fontColor=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"selectAll",value:function(){return this.node.select(),this}}]),n}(),S={resize:function(t,e){if(this.scene.scale.autoRound&&(t=Math.floor(t),e=Math.floor(e)),this.width===t&&this.height===e)return this;var n=this.node.style;return n.width="".concat(t,"px"),n.height="".concat(e,"px"),this.updateSize(),this}};Object.assign(w.prototype,S);var k={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},O={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"]},P={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"},C=Phaser.Utils.Objects.GetValue,T=Phaser.Utils.Objects.GetValue,R=function(){o(n,v);var t=u(n);function n(i){var o;return e(this,n),(o=t.call(this,i,{eventEmitter:!1})).inputText=void 0,o.onClose=void 0,o.delayCall=void 0,o}return i(n,[{key:"shutdown",value:function(t){this.isShutdown||(this.close(),x===this&&(x=void 0),h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"open",value:function(t,e){var n;void 0!==x&&x.close(),x=this,(n=t)&&"function"==typeof n&&(e=t,t=void 0),void 0===e&&(e=T(t,"onClose",void 0));var i=T(t,"onOpen",void 0),o=T(t,"onTextChanged",void 0);return this.inputText=function(t,e){void 0===e&&(e={});var n=t.scene,i=t.style,o=C(e,"backgroundColor",i.backgroundColor);null===o&&(o="transparent"),e.text=C(e,"text",t.text),e.fontFamily=C(e,"fontFamily",i.fontFamily),e.fontSize=C(e,"fontSize",i.fontSize),e.color=C(e,"color",i.color),e.backgroundColor=o,e.align=C(e,"align",function(t){return t.hasOwnProperty("align")?t.align:t.hasOwnProperty("halign")?t.halign:"left"}(i));var r=new w(n,t.x,t.y,C(e,"width",t.width),C(e,"height",t.height),e);return r.setOrigin(t.originX,t.originY),n.add.existing(r),r}(this.parent,t).on("textchange",(function(t){var e=t.text;o?o(this.parent,e):this.parent.text=e}),this).setFocus(),this.parent.setVisible(!1),this.onClose=e,T(t,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,(function(){this.scene.input.once("pointerdown",this.close,this),i&&i(this.parent)}),[],this),this}},{key:"close",value:function(){return x=void 0,this.inputText&&(this.parent.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent)),this}},{key:"isOpened",get:function(){return void 0!==this.inputText}},{key:"text",get:function(){return this.isOpened?this.inputText.text:this.parent.text}}]),n}(),x=void 0,A=function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){return e(this,n),t.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t){return new R(t)}}]),n}(),B={edit:function(t,e,n){return t._edit||(t._edit=new R(t)),t._edit.open(e,n),t._edit}};return Object.assign(A.prototype,B),A},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},9206:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e,n){return void 0===n&&(n="image"),t[e]||(t[e]=t.scene.make[n]({add:!1,origin:{x:0,y:0}}),t.on("destroy",(function(){t[e]&&(t[e].destroy(),t[e]=void 0)}))),t[e]}function p(t,e,n){return"__BASE"===n?"".concat(t,",").concat(e):"".concat(n,"_").concat(t,",").concat(e)}var f=Phaser.Utils.Objects.IsPlainObject,d=Phaser.Utils.Objects.GetValue,v=function(t){return"string"==typeof t&&(t=y[t]),t},y={scale:0,repeat:1},m={setTexture:function(t,e,n,i){Array.isArray(e)&&(i=n,n=e,e=void 0),void 0===e&&(e="__BASE"),this.textureKey=t,this.baseFrameName=e,this.columns.data=n,this.columns.count=n?n.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.rows.data=i,this.rows.count=i?i.length:0,this.rows.stretch=0,this.rows.minHeight=0;var o=this.scene.textures.get(t);if(!o)return this.clear(),this;if(!n||!i)return this.clear(),this;for(var r=o.frames[e],s=r.width,a=0,c=0,u=n.length;c<u;c++)void 0===n[c]?a++:"number"==typeof n[c]?s-=n[c]:s-=n[c].width;var h=s/a,l=r.height,p=0;for(c=0,u=i.length;c<u;c++)void 0===i[c]?p++:"number"==typeof i[c]?l-=i[c]:l-=i[c].width;for(var f,d,v,y,m,g=l/p,b=0,_=0,E=0,w=i.length;E<w;E++){void 0===i[E]&&(i[E]=g),"number"==typeof i[E]&&(i[E]={height:i[E],stretch:E%2}),v=(f=i[E]).height,this.rows.stretch+=0|f.stretch,this.rows.minHeight+=0<f.stretch?0:v,c=b=0;for(var S=n.length;c<S;c++)void 0===n[c]&&(n[c]=h),"number"==typeof n[c]&&(n[c]={width:n[c],stretch:c%2}),y=(d=n[c]).width,0===E&&(this.columns.stretch+=0|d.stretch,this.columns.minWidth+=0<d.stretch?0:y),1<=y&&1<=v?(m=this.getFrameNameCallback(c,E,e))&&o.add(m,0,b+r.cutX,_+r.cutY,y,v):console.warn("Size of Grid(".concat(c,",").concat(E,") = ").concat(y,"x").concat(v,", which is invalid")),b+=y;_+=v}return this.updateTexture(),this},updateTexture:function(){if(this.clear(),void 0===this.textureKey)return this;var t=this.scene.textures.get(this.textureKey);if(!t)return this;var e,n,i=this.width-this.columns.minWidth;n=0<=i?(e=0<this.columns.stretch?i/this.columns.stretch:0,1):(e=0,this.width/this.columns.minWidth);var o,r,s,a,c,u,h,p=this.height-this.rows.minHeight;r=0<=p?(o=0<this.rows.stretch?p/this.rows.stretch:0,1):(o=0,this.height/this.rows.minHeight);for(var f,d=0,v=0,y=0,m=this.rows.count;y<m;y++){h=0===(c=this.rows.data[y]).stretch?c.height*r:o*c.stretch;for(var g=d=0,b=this.columns.count;g<b;g++)u=0===(a=this.columns.data[g]).stretch?a.width*n:e*a.stretch,(s=this.getFrameNameCallback(g,y,this.baseFrameName))&&0<u&&0<h&&t.has(s)&&(0==(0===c.stretch&&0===a.stretch||0===this.getStretchMode(g,y)?0:1)?(f=l(this,"_image","image")).setTexture(this.textureKey,s).setDisplaySize(u,h):(f=l(this,"_tileSprite","tileSprite")).setTexture(this.textureKey,s).setSize(u,h)),f&&(this.draw(f,d,v),f=void 0),d+=u;v+=h}},setStretchMode:function(t){return f(t)?(this.stretchMode.edge=v(d(t,"edge",0)),this.stretchMode.internal=v(d(t,"internal",0))):(t=v(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1}.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal}},g=Phaser.GameObjects.RenderTexture,b=Phaser.Utils.Objects.IsPlainObject,_=Phaser.Utils.Objects.GetValue,E=function(){o(n,g);var t=u(n);function n(i,o,r,s,a,c,u,h,l,p){var f;return e(this,n),b(o)?(o=_(p=o,"x",0),r=_(p,"y",0),s=_(p,"width",1),a=_(p,"height",1),c=_(p,"key",void 0),u=_(p,"baseFrame",void 0),h=_(p,"columns",void 0),l=_(p,"rows",void 0)):b(s)?(s=_(p=s,"width",1),a=_(p,"height",1),c=_(p,"key",void 0),u=_(p,"baseFrame",void 0),h=_(p,"columns",void 0),l=_(p,"rows",void 0)):b(c)?(c=_(p=c,"key",void 0),u=_(p,"baseFrame",void 0),h=_(p,"columns",void 0),l=_(p,"rows",void 0)):b(u)?(u=_(p=u,"baseFrame",void 0),h=_(p,"columns",void 0),l=_(p,"rows",void 0)):Array.isArray(u)?(p=l,l=h,h=u,u=_(p,"baseFrame",void 0)):b(h)&&(h=_(p=h,"columns",void 0),l=_(p,"rows",void 0)),(f=t.call(this,i,o,r,s,a)).columns={},f.rows={},f.stretchMode={},f._tileSprite=void 0,f._image=void 0,f.setOrigin(.5,.5),f.setGetFrameNameCallback(_(p,"getFrameNameCallback",void 0)),f.setStretchMode(_(p,"stretchMode",0)),f.setTexture(c,u,h,l),f}return i(n,[{key:"setGetFrameNameCallback",value:function(t){return void 0===t&&(t=p),this.getFrameNameCallback=t,this}},{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(h(r(n.prototype),"resize",this).call(this,t,e),this.updateTexture()),this}}]),n}();function w(t,e,n,i,o,r,s,a,c){var u=new E(this.scene,t,e,n,i,o,r,s,a,c);return this.scene.add.existing(u),u}Object.assign(E.prototype,m);var S=Phaser.GameObjects.BuildGameObject;function k(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var n=new E(this.scene,t);return S(this.scene,n,t),n}function O(t){return null==t||""===t||0===t.length}var P=function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){var o;return e(this,n),o=t.call(this,i),i.registerGameObject("rexNinePatch",w,k),o}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),n}();return function(e,n,i){if("object"===t(e))if(O(n)){if(null==i)return;"object"===t(i)&&(e=i)}else{"string"==typeof n&&(n=n.split("."));var o=n.pop();(function(e,n,i){var o=e;if(!O(n)){var r;"string"==typeof n&&(n=n.split("."));for(var s=0,a=n.length;s<a;s++){var c;null!=o[r=n[s]]&&"object"===t(o[r])||(c={},o[r]=c),o=o[r]}}return o}(e,n))[o]=i}}(window,"RexPlugins.GameObjects.NinePatch",E),P},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},6650:function(t,e){!function(t){"use strict";var e=function(t){return function(e){var n=t(e);return e.add(n),n}},n=function(t){return function(e,n){return t.set(e,n),n}},i=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,r=2*o,s=function(t,e){return function(n){var s=e.get(n),a=void 0===s?n.size:s<r?s+1:0;if(!n.has(a))return t(n,a);if(n.size<o){for(;n.has(a);)a=Math.floor(Math.random()*r);return t(n,a)}if(n.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(a);)a=Math.floor(Math.random()*i);return t(n,a)}},a=new WeakMap,c=n(a),u=s(c,a),h=e(u);t.addUniqueNumber=h,t.generateUniqueNumber=u,Object.defineProperty(t,"__esModule",{value:!0})}(e)},3505:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.initGame=void 0;var r=n(490),s=n(9206),a=n(1673),c=n(5080);n(6563),n(7771);var u=n(3355),h=Phaser.Core.Events.PAUSE,l=Phaser.Core.Events.RESUME,p={type:Phaser.WEBGL,parent:"game-player-wrap",canvas:document.getElementById("game-player-canvas"),disableContextMenu:!0,render:{clearBeforeRender:!0},scale:{width:1800,height:900,mode:Phaser.Scale.ScaleModes.WIDTH_CONTROLS_HEIGHT},plugins:{scene:[{key:"DragonBones",plugin:dragonBones.phaser.plugin.DragonBonesScenePlugin,mapping:"dragonbone"},{key:"AssetsLoader",plugin:c.AssetsLoader,mapping:"loader"}],global:[{key:"rexninepatchplugin",plugin:s,start:!0},{key:"rexButton",plugin:a,start:!0}]}},f=null;function d(){null!==f&&f.scale.updateBounds()}function v(){window.removeEventListener("react-scrolling",d),window.removeEventListener("destroyEngine",v),f&&(f.destroy(!1,!1),Phaser.Plugins.PluginCache.remove("DragonBones"),Phaser.Plugins.PluginCache.remove("SpinePlugin"),Phaser.Plugins.PluginCache.remove("AssetsLoader"),f=null)}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Phaser.Utils.Objects.IsPlainObject;return t.reduce((function(t,e){return Object.keys(e).forEach((function(i){var o=t[i],r=e[i];Array.isArray(o)&&Array.isArray(r)?t[i]=o.concat.apply(o,r):n(o)&&n(r)?t[i]=y(o,r):t[i]=r})),t}),{})}e.initGame=function(t){return i(void 0,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return[4,r.Utils.checkSupportedWebP()];case 1:return i.sent(),e=y(p,t||{}),f=new Phaser.Game(e),function(){if(null!==f){f.input.mouse.preventDefaultWheel=!1;var t=0;f.events.on(h,(function(){f&&(f.loop.resume(),t=u.setInterval((function(){f&&f.loop.step()}),1e3/60))})),f.events.on(l,(function(){f&&u.clearInterval(t)})),window.addEventListener("react-scrolling",d),window.addEventListener("destroyEngine",v)}}(),n.g.game=f,[2,f]}}))}))}},6871:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoMenu=e.DIRECTION=e.THEME_EVENT=e.BOARD_STYLES=e.MODE_STYLES=void 0;var r,s,a,c,u=Phaser.Input.Events.POINTER_DOWN,h=n(5080),l=n(8356),p=n(2804);!function(t){t[t.LIGHT=0]="LIGHT",t[t.DARK=1]="DARK"}(r=e.MODE_STYLES||(e.MODE_STYLES={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE"}(s=e.BOARD_STYLES||(e.BOARD_STYLES={})),function(t){t.MODE="changeMode",t.SOUND="changeSound",t.MUSIC="changeMusic"}(a=e.THEME_EVENT||(e.THEME_EVENT={})),function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL"}(c=e.DIRECTION||(e.DIRECTION={}));var f="core/menu-click",d=function(t){function e(e,n){void 0===n&&(n=l.Config.MENU);var i=t.call(this,e)||this;return i._atlasMisc=i.scene.textures.get("core/AtlasMisc"),i.background=i.scene.add.rexNinePatch(0,0,2,2),i.toggleMode=null,i.sound=null,i.soundMusic=null,i.modeStyle=r.LIGHT,i.direction=c.VERTICAL,i.boardStyle=s.ZERO,i.isSoundOn=!0,i.isSoundMusicOn=!0,i._listButton=[],i._listLines=[],i.background.setOrigin(0,0),i.add(i.background),n.toggleMode&&(i.toggleMode=new p.ToggleMode(i.scene),i.toggleMode.on(p.EventToggleMode.CHANGE_MODE,i.onChangeTheme,i),i.add(i.toggleMode),i._listButton.push(i.toggleMode)),n.sound&&(i.sound=i.scene.add.image(0,0,i._atlasMisc,"unmute"),i.add(i.sound),i.sound.setInteractive({useHandCursor:!0}),i.sound.on(u,i.onChangeSound,i),i.sound.setScrollFactor(0),i._listButton.push(i.sound)),n.music&&(i.soundMusic=i.scene.add.image(0,0,i._atlasMisc,"unmute_music"),i.add(i.soundMusic),i.soundMusic.setInteractive({useHandCursor:!0}),i.soundMusic.on(u,i.onChangeSoundMusic,i),i.soundMusic.setScrollFactor(0),i._listButton.push(i.soundMusic)),i.changeBoardStyle(i.boardStyle),i.sortAll(),i.onChangeMode(i.scene.game.device.os.desktop),i}return o(e,t),e.prototype.changeDirection=function(t){this.direction=t,this.sortAll()},e.prototype.interactiveMode=function(t){null!==this.toggleMode&&this.toggleMode.interactiveMode(t)},e.prototype.changeBoardStyle=function(t){this.boardStyle=t,this.boardStyle===s.ZERO?this.background.setTexture("core/AtlasNinePatch","board-0",[13*h.DPR,void 0,13*h.DPR],[13*h.DPR,void 0,13*h.DPR]):this.background.setTexture("core/AtlasNinePatch","board-1",[28*h.DPR,void 0,28*h.DPR],[19*h.DPR,void 0,19*h.DPR])},e.prototype.setTheme=function(t){this.modeStyle=t,null!==this.toggleMode&&(this.modeStyle===r.LIGHT?this.toggleMode.setLightMode():this.toggleMode.setDarkMode()),this.emit(a.MODE,this.modeStyle)},e.prototype._playSoundClick=function(){if(this.scene.game.cache.audio.get(f)){var t=this.scene.sound.get(f);null===t&&(t=this.scene.sound.add(f)),t.play()}},e.prototype.onChangeMode=function(t){null!==this.background&&this.background.setVisible(t);for(var e=0;e<this._listLines.length;e++)this._listLines[e].setVisible(t)},e.prototype.onChangeTheme=function(){this._playSoundClick(),this.modeStyle=this.modeStyle===r.LIGHT?r.DARK:r.LIGHT,this.emit(a.MODE,this.modeStyle)},e.prototype.sortAll=function(){var t={width:0,height:0};this.scene.game.device.os.desktop?this.sortButtonsDesktop(t):this.sortButtons(t),this.sortLines(t),this.background.resize(t.width,t.height)},e.prototype.sortButtons=function(t){for(var e=20*h.DPR,n=0;n<this._listButton.length;n++){var i=this._listButton[n];this.direction===c.VERTICAL?(i.setPosition(0,e+40*n*h.DPR),t.width=Math.max(i.displayWidth,t.width),t.height=i.y+e):(i.setPosition(e+40*n*h.DPR,0),t.width=i.x+e,t.height=Math.max(i.displayHeight+e,t.height))}this.direction===c.VERTICAL?this.background.setOrigin(.5,0):this.background.setOrigin(0,.5)},e.prototype.sortButtonsDesktop=function(t){for(var e=0;e<this._listButton.length;e++){var n=this._listButton[e];this.direction===c.VERTICAL?(n.setPosition(0,25+50*e),t.width=Math.max(n.displayWidth+15,t.width),t.height=Math.max(n.y+25,t.height)):(n.setPosition(25+50*e,0),t.width=Math.max(n.x+25,t.width),t.height=Math.max(n.displayHeight+15,t.height))}this.direction===c.VERTICAL?this.background.setOrigin(.5,0):this.background.setOrigin(0,.5)},e.prototype.sortLines=function(t){for(var e=0;e<this._listButton.length-1;e++){var n=this._listButton[e],i=this._listButton[e+1],o=this._listLines[e];void 0===o&&(o=this.scene.add.image(0,0,this._atlasMisc,"line-mode"),this.add(o),this._listLines.push(o)),this.direction===c.VERTICAL?(o.setPosition(0,(n.y+i.y)/2),o.setAngle(0),t.width=Math.max(o.width+15,t.width)):(o.setPosition((n.x+i.x)/2,0),o.setAngle(90),t.height=Math.max(o.height,t.height))}},e.prototype.onChangeSound=function(){this._playSoundClick(),this.isSoundOn=!this.isSoundOn,null!==this.sound&&(this.isSoundOn?(this.scene.sound.mute=!1,this.sound.setFrame("unmute",!0,!1)):(this.scene.sound.mute=!0,this.sound.setFrame("mute",!0,!1))),this.emit(a.SOUND,this.isSoundOn)},e.prototype.onChangeSoundMusic=function(){this._playSoundClick(),this.isSoundMusicOn=!this.isSoundMusicOn,null!==this.soundMusic&&(this.isSoundMusicOn?this.soundMusic.setFrame("unmute_music",!0,!1):this.soundMusic.setFrame("mute_music",!0,!1)),this.emit(a.MUSIC,this.isSoundMusicOn)},e}(Phaser.GameObjects.Container);e.CompoMenu=d},2804:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMode=e.EventToggleMode=void 0;var r,s=Phaser.GameObjects.Container,a=Phaser.Input.Events.POINTER_DOWN,c=Phaser.Input.Events.POINTER_OVER,u=Phaser.Input.Events.POINTER_OUT,h=n(6871),l=n(5080);!function(t){t.CHANGE_MODE="change-mode"}(r=e.EventToggleMode||(e.EventToggleMode={}));var p=function(t){function e(e){var n=t.call(this,e)||this;return n._atlasMisc=n.scene.textures.get("core/AtlasMisc"),n.background=n.scene.add.image(0,0,n._atlasMisc,"bg-toggle"),n.foam=n.scene.add.image(0,0,n._atlasMisc,"foam"),n.light=n.scene.add.image(0,0,n._atlasMisc,"light"),n.dark=n.scene.add.image(0,0,n._atlasMisc,"dark"),n.containerFoam=n.scene.add.container(0,0,[n.foam,n.light,n.dark]),n.tooltip=n.scene.add.text(0,0,"",{fontFamily:"Montserrat-SemiBold",fontSize:n.scene.game.device.os.desktop?"20px":10*l.DPR+"px",color:"#cc2b2b",stroke:"#fff",strokeThickness:2}),n._mode=h.MODE_STYLES.LIGHT,n.isInteractive=!0,n.background.setInteractive({useHandCursor:!0}),n.background.on(a,n.onClickBackground,n),n.background.on(c,n.onOverBackground,n),n.background.on(u,n.onOutBackground,n),n.background.setScrollFactor(0),n.foam.setScrollFactor(0),n.light.setScrollFactor(0),n.dark.setScrollFactor(0),n.width=n.background.width,n.height=n.background.height,n.dark.alpha=0,n.tooltip.setVisible(!1),n.tooltip.setOrigin(0,.5),n.tooltip.x=n.background.width/2+10,n.add([n.background,n.containerFoam,n.tooltip]),n.setLightMode(),n}return o(e,t),e.prototype.interactiveMode=function(t){this.isInteractive=t,this.background.setInteractive({useHandCursor:t}),this._setColorBackground()},e.prototype.onOverBackground=function(){this.isInteractive||(this.tooltip.setText("Mode can't be changed while round is in play"),this.tooltip.setVisible(!0),this._mode===h.MODE_STYLES.LIGHT?(this.tooltip.setColor("#cc2b2b"),this.tooltip.setStroke("#fff",1)):(this.tooltip.setColor("#fff"),this.tooltip.setStroke("#cc2b2b",1)))},e.prototype.onOutBackground=function(){this.tooltip.setVisible(!1)},e.prototype.onClickBackground=function(){this.isInteractive&&(this.emit(r.CHANGE_MODE),this.animatedToggle())},e.prototype.animatedToggle=function(){(this._mode===h.MODE_STYLES.LIGHT?h.MODE_STYLES.DARK:h.MODE_STYLES.LIGHT)===h.MODE_STYLES.LIGHT?this.setLightMode():this.setDarkMode()},e.prototype.setLightMode=function(){this._mode=h.MODE_STYLES.LIGHT,this._tweenAlpha(this.light,1),this._tweenAlpha(this.dark,0),this._tweenPosition(this.background.width/2-this.light.width/2-10),this._setColorBackground()},e.prototype.setDarkMode=function(){this._mode=h.MODE_STYLES.DARK,this._tweenAlpha(this.light,0),this._tweenAlpha(this.dark,1),this._tweenPosition(-this.background.width/2+this.dark.width/2+10),this._setColorBackground()},e.prototype._setColorBackground=function(){this.isInteractive?this._mode===h.MODE_STYLES.LIGHT?this.background.setTint(16777215):this.background.setTint(993091):this.background.setTint(13380395)},e.prototype._tweenPosition=function(t){this.scene.tweens.killTweensOf(this.containerFoam),this.scene.tweens.add({targets:this.containerFoam,x:t,duration:300})},e.prototype._tweenAlpha=function(t,e){this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:t,alpha:e,duration:300})},e}(s);e.ToggleMode=p},8356:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0,e.Config={BASE_URL:"/assets/games/",WIDTH_DESIGN:1508,HEIGHT_DESIGN:787,MAX_WIDTH_QUERY:600,MENU:{toggleMode:!0,sound:!0,music:!0}}},6285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENT_CORE=void 0,function(t){t.SWITCH_SCREEN_MODE="switch-screen-mode",t.DEVICE_DESKTOP="device-desktop",t.DEVICE_MOBILE="device-mobile",t.LOAD_FILE="load",t.LOADING_PROGRESS="progress",t.LOAD_COMPLETED="load-completed",t.CONNECTED_SERVER="connected-server"}(e.EVENT_CORE||(e.EVENT_CORE={}))},7771:()=>{"use strict";var t=Phaser.GameObjects.GameObject,e=Phaser.Geom.Point;t.prototype.getGlobalPosition=function(t){return this.parentContainer?this.parentContainer.toGlobal(this.x,this.y,t):this.toGlobal(this.x,this.y,t)},t.prototype.toGlobal=function(t,n,i){void 0===i&&(i=new e(t,n));var o=this.getWorldTransformMatrix();if(o){var r=o.getX(t,n),s=o.getY(t,n);i.setTo(r,s)}return i},t.prototype.toLocal=function(t,e,n,i){var o=n.toGlobal(t,e,i),r=new Phaser.Math.Vector2(o.x,o.y),s=this.getWorldTransformMatrix();return s&&s.applyInverse(o.x,o.y,r),r},t.prototype.getParentScale=function(){for(var t=1,e=this.parentContainer;e;)t*=e.scale,e=e.parentContainer;return t},t.prototype.getGlobalScale=function(){return this.getParentScale()*this.scale}},5080:function(t,e,n){"use strict";var i,o=n(5933),r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsLoader=e.DPR=void 0;var s=Phaser.Loader.Events.COMPLETE,a=Phaser.Loader.Events.FILE_LOAD,c=n(490),u=Phaser.Loader.Events.PROGRESS,h=n(6285);e.DPR=Math.min(Math.round(window.devicePixelRatio),2);var l=function(t){function n(e,n){var i=t.call(this,e,n,"AssetsLoader")||this;return i.fonts={},i.i18n=null,i.assets={},i.spines=[],i.loaders={},i.postfix="",i.os="",i}return r(n,t),n.prototype.start=function(t){this.fonts=t.fonts||{},this.i18n=t.i18n||null,this.spines=t.spines||[],this.assets={images:t.images||[],sprites:t.sprites||[],audio:t.audio||[],bitmapFonts:t.bitmapFonts||[],jsons:t.jsons||[],animations:t.animations||[],meshes:t.meshes||[]},this.loaders={images:this._loadImage,sprites:this._loadSprite,audio:this._loadAudio,bitmapFonts:this._loadBitmapFont,jsons:this._loadJson,animations:this._loadAnimations,meshes:this._loadObj},this.game.device.os.desktop?(e.DPR=1,this.os="desktop/"):(this.os="mobile/",this.postfix="@"+e.DPR+"x")},n.prototype.load=function(){var t=this;return this._loadSpines().then((function(){return Promise.all([t._loadAssets(),t._loadFonts(),t._loadLanguage()])})).catch((function(){return Promise.resolve([])}))},n.prototype._emitLoad=function(t){this.game.events.emit(h.EVENT_CORE.LOAD_FILE,t)},n.prototype._emitProgress=function(t){this.game.events.emit(h.EVENT_CORE.LOADING_PROGRESS,t)},n.prototype._loadAssets=function(){var t=this;return new Promise((function(e){Object.keys(t.assets).forEach((function(e){t.assets[e].forEach((function(n){var i=n.split(".");t.loaders[e].call(t,i[0],i[1])}))})),t.scene.load.on(a,t._emitLoad,t),t.scene.load.on(u,t._emitProgress,t),t.scene.load.once(s,(function(){t.scene.load.off(a,t._emitLoad,t),t.scene.load.off(u,t._emitProgress,t),t.game.events.emit(h.EVENT_CORE.LOAD_COMPLETED),e()})),t.scene.load.start()}))},n.prototype._loadFonts=function(){var t=this;return 0===Object.keys(this.fonts).length?Promise.resolve():new Promise((function(e){o.load(Object.assign({},t.fonts,{active:function(){t.systems.events.emit("load"),e()}}))}))},n.prototype._loadImage=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"images/",i="".concat(n).concat(e.fileName).concat(this.postfix,".").concat(e.extension);this.scene.load.image(t,i)},n.prototype._loadSprite=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"sprites/",i="".concat(n).concat(e.fileName).concat(this.postfix,".").concat(e.extension),o="".concat(n).concat(e.fileName).concat(this.postfix,".json");this.scene.load.atlas(t,i,o)},n.prototype._loadAudio=function(t,e){var n=this.getInfoExtra(t),i=n.subPath+"audio/",o="".concat(i).concat(n.fileName,".").concat(e);this.scene.load.audio(t,o)},n.prototype._loadBitmapFont=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"bitmap/",i="".concat(n).concat(t).concat(this.postfix,".").concat(e.extension),o="".concat(n).concat(t).concat(this.postfix,".xml");this.scene.load.bitmapFont(t,i,o)},n.prototype._loadJson=function(t,e){var n="".concat("jsons/").concat(t,".").concat(e);this.scene.load.json(t,n)},n.prototype._loadObj=function(t){var e="".concat("meshes/").concat(t,".obj");this.scene.load.obj(t,e)},n.prototype._loadAnimations=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"animations/";this.scene.load.dragonbone(t,"".concat(n).concat(e.fileName,"_tex").concat(this.postfix,".").concat(e.extension),"".concat(n).concat(e.fileName,"_tex").concat(this.postfix,".json"),"".concat(n).concat(e.fileName,"_ske").concat(this.postfix,".dbbin"),void 0,void 0,{responseType:"arraybuffer"})},n.prototype._loadSpines=function(){var t=this;return new Promise((function(e){if(0===t.spines.length)return e();var n=t.scene.load.baseURL,i=t.scene.load.path;t.scene.load.setBaseURL(""),t.scene.load.setPath(n+i),t.scene.load.on(a,t._emitLoad,t),t.scene.load.once(s,(function(){t.scene.load.setBaseURL(n),t.scene.load.setPath(i),t.scene.load.off(a,t._emitLoad,t),e()})),t.spines.forEach((function(e){var n=e,i=/\(([^)]+)\)/.exec(e);null!==i&&(n=e.substring(0,i.index));var o=t.getInfoExtra(n),r=o.subPathOs+"spines/",s=[];if(null!==i)for(var a=Number(i[1]),c=1;c<=a;c++)s.push("".concat(r).concat(o.fileName,"-").concat(c).concat(t.postfix,".atlas"));else s.push("".concat(r).concat(o.fileName).concat(t.postfix,".atlas"));t.scene.load.spine(n,"".concat(r).concat(o.fileName).concat(t.postfix,".json"),s,!0)})),t.scene.load.start()}))},n.prototype._loadLanguage=function(){if(this.i18n){var t="assets/games/".concat(this.i18n.baseUrl,"/");return this.scene.i18n.initialize({backend:{loadPath:"".concat(t,"{{lng}}/{{ns}}.json")},ns:this.i18n.ns,defaultNS:this.i18n.ns[0],lng:this.i18n.lng,fallbackLng:"en"})}return Promise.resolve()},n.prototype.getInfoExtra=function(t){var e=c.Utils.isSupportedWebP?"webp":"png";if(t.indexOf("core")>-1){var n=t.split("/");return{fileName:n[n.length-1],extension:e,subPath:"../../core/",subPathOs:"../../core/"+this.os+e+"/",subPathFormat:"../../core/"}}return{fileName:t,extension:e,subPath:"",subPathOs:this.os+e+"/",subPathFormat:""}},n}(Phaser.Plugins.ScenePlugin);e.AssetsLoader=l},6517:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundManager=e.SOUND_NAME=void 0;var n=Phaser.Core.Events.PAUSE,i=Phaser.Core.Events.RESUME;!function(t){t.CLICK="core/menu-click"}(e.SOUND_NAME||(e.SOUND_NAME={}));var o=function(){function t(t){this.scene=t}return t.prototype.init=function(){var t=this;this.scene.game.events.on(n,(function(){t.scene.sound.mute=!0})),this.scene.game.events.on(i,(function(){t.scene.sound.mute=!1}))},t.prototype.play=function(t,e){var n=this.getSound(t,e);return n.play(),n},t.prototype.stop=function(t){var e=this.scene.sound.get(t);null!==e&&e.stop()},t.prototype.mute=function(t,e){var n=this.scene.sound.get(t);null!==n&&n.setMute(e)},t.prototype.seek=function(t,e){var n=this.scene.sound.get(t);null!==n&&n.setSeek(e)},t.prototype.getSound=function(t,e){if(null==e?void 0:e.multiInstance){for(var n=this.scene.sound.getAll(t),i=0,o=n.length;i<o;i++)if(!n[i].isPlaying)return n[i]}else{var r=this.scene.sound.get(t);if(null!==r)return r}return this.scene.sound.add(t,e)},t}();e.SoundManager=o},6071:function(t,e){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GlowFilterPipeline=void 0;var o=Phaser.Renderer.WebGL.Pipelines.SinglePipeline,r=function(t){function e(e){var n=t.call(this,{game:e,fragShader:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n// Effect parameters\nuniform float intensity;\nvoid main() {\n  vec4 front = texture2D(uMainSampler, outTexCoord);\n  vec4 sum = vec4(0);\n  for(int xx = -4; xx <= 4; xx++) {\n    for(int yy = -3; yy <= 3; yy++) {\n      float dist = sqrt(float(xx*xx) + float(yy*yy));\n      float factor = 0.0;\n      if (dist == 0.0) {\n        factor = 2.0;\n      } else {\n        factor = 2.0/abs(float(dist));\n      }\n      sum += texture2D(uMainSampler, outTexCoord + vec2(xx, yy) * 0.002) * factor;\n    }\n  }\n  \n  gl_FragColor = mix(front, sum, intensity);\n}\n",renderTarget:!0})||this;return n._intensity=.01,n}return i(e,t),e.prototype.onPreRender=function(){t.prototype.onPreRender.call(this),this.set1f("intensity",this._intensity)},Object.defineProperty(e.prototype,"intensity",{get:function(){return this._intensity},set:function(t){this._intensity=Phaser.Math.Clamp(t,0,1)},enumerable:!1,configurable:!0}),e}(o);e.GlowFilterPipeline=r},6853:function(t,e){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GlowOuterPostFx=void 0;var o=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,r=Phaser.Display.Color,s=function(t){function e(e){var n=t.call(this,{game:e,fragShader:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\nvarying vec2 outTexCoord;\nuniform sampler2D uMainSampler;\n\nuniform float outerStrength;\nuniform float innerStrength;\n\nuniform vec4 glowColor;\n\nuniform vec2 filterArea;\nuniform bool knockout;\n\nconst float PI = 3.14159265358979323846264;\n\nconst float DIST = __DIST__;\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\n\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\n    float totalAlpha = 0.0;\n\n    vec2 direction;\n    vec2 displaced;\n    vec4 curColor;\n\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\n       direction = vec2(cos(angle), sin(angle)) * px;\n\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\n           displaced = outTexCoord + direction * (curDistance + 1.0);\n\n           curColor = texture2D(uMainSampler, displaced);\n\n           totalAlpha += (DIST - curDistance) * curColor.a;\n       }\n    }\n    \n    curColor = texture2D(uMainSampler, outTexCoord);\n\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\n\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    \n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\n\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\n    \n    if (knockout) {\n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else {\n      gl_FragColor = innerColor + outerGlowColor;\n    }\n}\n".replace(/__ANGLE_STEP_SIZE__/gi,"".concat(1..toFixed(7))).replace(/__DIST__/gi,"".concat(10..toFixed(0),".0")),renderTarget:!0})||this;return n._outerStrength=4,n._innerStrength=0,n._color=new r(255,255,255),n._knockout=!1,n}return i(e,t),e.prototype.onPreRender=function(){t.prototype.onPreRender.call(this),this.set1f("outerStrength",this._outerStrength),this.set1f("innerStrength",this._innerStrength),this.set4f("glowColor",this._color.redGL,this._color.greenGL,this._color.blueGL,this._color.alphaGL),this.set2f("filterArea",this.renderer.width,this.renderer.height);var e=this._knockout?1:0;this.set1i("knockout",e)},Object.defineProperty(e.prototype,"color",{get:function(){return this._color.color},set:function(t){this._color.setFromRGB(r.IntegerToRGB(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this._outerStrength},set:function(t){this._outerStrength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this._innerStrength},set:function(t){this._innerStrength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this._knockout},set:function(t){this._knockout=t},enumerable:!1,configurable:!0}),e}(o);e.GlowOuterPostFx=s},2149:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GeneralScene=void 0;var r=n(8356),s=Phaser.Scale.Events.RESIZE,a=n(5080),c=n(6285),u=function(t){function e(e){var n=t.call(this,Phaser.Utils.Objects.Extend(!0,{loader:{baseURL:r.Config.BASE_URL}},e))||this;return n.rootContainer=null,n.gameScale=1,n.isDesktopMode=!0,n._resizeListenerBind=n.forceResize.bind(n),n._isFirstChangeMode=!1,n}return o(e,t),e.prototype.init=function(){var t=this.scale.gameSize.width,e=this.scale.gameSize.height;this.rootContainer=this.add.container();var n=this.add.zone(0,0,2,2);n.setOrigin(.5),this.rootContainer.add(n),this.zone=this.add.zone(0,0,t,e),this.zone.setOrigin(0),this.sizer=this.add.zone(0,0,t*a.DPR,e*a.DPR),this.sizer.setOrigin(0),this.isMobile||this.sizer.setSize(t,e),this.events.on(Phaser.Scenes.Events.DESTROY,this.destroy,this),this.scale.on(s,this.onResize,this),this.isMobile&&(this.scale.scaleMode=Phaser.Scale.ScaleModes.NONE,window.addEventListener("resize",this._resizeListenerBind,!1))},Object.defineProperty(e.prototype,"isMobile",{get:function(){var t=this.game.device.os;return t.android||t.iPhone||t.windowsPhone},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.game.device.os.android},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return this.game.device.os.iOS},enumerable:!1,configurable:!0}),e.prototype.loadAssets=function(t){var e=this;this.loader.start(t),this.loader.load().then((function(){return e.initGame()}))},e.prototype.onResize=function(t,e,n,i,o){},e.prototype.destroy=function(){window.removeEventListener("resize",this._resizeListenerBind)},e.prototype.forceResize=function(){var t=a.DPR,e=Math.min(window.innerWidth,window.screen.width,this.scale.parent.clientWidth),n=Math.min(window.innerHeight,window.screen.height,this.scale.parent.clientHeight);e*=t,n*=t,null!==this.zone&&this.zone.setSize(e,n);var i=!this.isMobile;this.changeScaleRoot(e/t,n/t,i),this.changeSizer(e,n,i),this.changeStyleCanvas(e/t,n/t,i),this.scale.resize(e,n),this.raiseChangeMode(e,n,i)},e.prototype.raiseChangeMode=function(t,e,n){if(!this._isFirstChangeMode)return this._isFirstChangeMode=!0,void this._raiseChangeMode(n);n?this.isDesktopMode||this._raiseChangeMode(n):this.isDesktopMode&&this._raiseChangeMode(n)},e.prototype._raiseChangeMode=function(t){this.isDesktopMode=t,this.sys.events.emit(c.EVENT_CORE.SWITCH_SCREEN_MODE,this.isDesktopMode)},e.prototype.changeSizer=function(t,e,n){n?this.sizer.setSize(this.zone.width,this.zone.height):this.sizer.setSize(t,e)},e.prototype.changeScaleRoot=function(t,n,i){if(null!==this.rootContainer){var o=t/r.Config.WIDTH_DESIGN,s=n/r.Config.HEIGHT_DESIGN;e.rootScale=Math.min(Math.max(o,s),1),this.rootContainer.setScale(e.rootScale),this.gameScale=i?e.rootScale:1}},e.prototype.changeStyleCanvas=function(t,e,n){var i=t,o=e;this.scale.canvas.style.width=i+"px",this.scale.canvas.style.height=o+"px"},e.prototype.runOnDevice=function(){this.isMobile?this.events.emit(c.EVENT_CORE.DEVICE_MOBILE):this.events.emit(c.EVENT_CORE.DEVICE_DESKTOP)},e.rootScale=1,e}(Phaser.Scene);e.GeneralScene=u},6935:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsManifest=void 0,e.AssetsManifest={images:["core/loading-logo"]}},3975:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingScene=void 0;var r=n(2149),s=n(6935),a=n(6285),c=n(5080),u=function(t){function e(){var n=t.call(this,{key:e.SCENE_NAME})||this;return n.logo=null,n.backgroundScene=null,n.background=null,n.backgroundCircle=null,n.loadingBar=null,n.txtConnecting=null,n.maskCircle=null,n.objectTemp={current:0,end:0},n._tDrawMask=null,n._tLogo=null,n.radiusCircle=0,n.radiusProgress=0,n}return o(e,t),e.prototype.preload=function(){this.load.setPath("core/"),this.loadAssets(s.AssetsManifest)},e.prototype.initGame=function(){this.isMobile&&this.forceResize(),this.events.once(a.EVENT_CORE.DEVICE_DESKTOP,this.runOnDesktop,this),this.events.once(a.EVENT_CORE.DEVICE_MOBILE,this.runOnMobile,this),this.runOnDevice(),this.backgroundScene=this.add.graphics(),this.backgroundScene.fillStyle(993091),this.backgroundScene.fillRect(0,0,this.sizer.width,this.sizer.height),this.background=this.add.graphics(),this.background.fillStyle(1849700),this.background.fillCircle(this.sizer.width/2,this.sizer.height/2,this.radiusProgress),this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(16777215),this.loadingBar.fillCircle(0,0,this.radiusProgress),this.loadingBar.setPosition(this.sizer.width/2,this.sizer.height/2),this.maskCircle=this.make.graphics({},!1),this.maskCircle.rotation=-Math.PI/2,this.loadingBar.setMask(this.maskCircle.createGeometryMask()),this.maskCircle.setPosition(this.loadingBar.x,this.loadingBar.y),this.backgroundCircle=this.add.graphics(),this.backgroundCircle.fillStyle(993091),this.backgroundCircle.fillCircle(this.sizer.width/2,this.sizer.height/2,this.radiusCircle),this.logo=this.add.image(this.sizer.width/2,this.sizer.height/2,"core/loading-logo"),this.game.events.on(a.EVENT_CORE.LOADING_PROGRESS,this.updateProgress,this),this.game.events.on(a.EVENT_CORE.LOAD_COMPLETED,this.startNextScene,this),this.tweenRotation(),this.loadNextScene()},e.prototype.updateProgress=function(t){var e=this;null!==this._tDrawMask&&this._tDrawMask.stop(),this.objectTemp.current=this.objectTemp.end;var n=t*Math.PI*2;this._tDrawMask=this.tweens.add({targets:this.objectTemp,end:n,duration:300,onUpdate:function(){null!==e.maskCircle&&e.maskCircle.slice(0,0,e.radiusProgress,e.objectTemp.current,e.objectTemp.end).fillPath()}})},e.prototype.tweenRotation=function(){null!==this.logo&&(this._tLogo=this.tweens.add({targets:this.logo,duration:3e3,rotation:2*Math.PI,repeat:-1}))},e.prototype.loadNextScene=function(){var t=this.game.scene,e=t.getAt(1);e&&(t.start(e),t.bringToTop(this))},e.prototype.startNextScene=function(){this.destroyObjects();var t=this.sizer.width/2,e=this.sizer.height/2;null!==this.logo&&(t=this.logo.x,e=this.logo.y+this.logo.height/2+30),this.txtConnecting=this.add.text(t,e,"Connecting to server...",{fontSize:this.isMobile?16*c.DPR+"px":"24px",fontFamily:"Montserrat-SemiBold",color:"#fff",fontStyle:"italic",stroke:"#000",strokeThickness:2}),this.txtConnecting.setOrigin(.5),this.game.events.once(a.EVENT_CORE.CONNECTED_SERVER,this.onConnectedServer,this)},e.prototype.onConnectedServer=function(){null!==this._tLogo&&(this._tLogo.stop(),this._tLogo=null),null!==this.logo&&(this.logo.destroy(!0),this.logo=null),null!==this.txtConnecting&&(this.txtConnecting.destroy(!0),this.txtConnecting=null),this.destroy(),this.game.scene.stop(this),this.game.scene.remove(e.SCENE_NAME)},e.prototype.destroyObjects=function(){null!==this._tDrawMask&&(this._tDrawMask.stop(),this._tDrawMask=null),null!==this.backgroundScene&&(this.backgroundScene.destroy(!0),this.backgroundScene=null),null!==this.background&&(this.background.destroy(!0),this.background=null),null!==this.backgroundCircle&&(this.backgroundCircle.destroy(!0),this.backgroundCircle=null),null!==this.maskCircle&&(this.maskCircle.destroy(!0),this.maskCircle=null)},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.radiusCircle=160,this.radiusProgress=197},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.radiusCircle=70*c.DPR,this.radiusProgress=90*c.DPR},e.SCENE_NAME="sceneLoading",e}(r.GeneralScene);e.LoadingScene=u},423:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbsSocketController=e.EVENT_NAME=void 0,function(t){t.OPEN="SOCKET_OPEN",t.ERROR="SOCKET_ERROR",t.CLOSE="SOCKET_CLOSE"}(e.EVENT_NAME||(e.EVENT_NAME={}));var n=function(){function t(){this.listSocket=[],this.eventsObservable=new Phaser.Events.EventEmitter}return t.prototype.getSocket=function(t){if(t)for(var e=0,n=this.listSocket.length;e<n;e++){var i=this.listSocket[e];if(i.key===t)return i.socket}return null},t.prototype.addSocket=function(t,e){for(var n=0,i=this.listSocket.length;n<i;n++){var o=this.listSocket[n];if(o.key===t)return void(o.socket=e)}this.listSocket.push({key:t,socket:e})},t.prototype.removeSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++)if(this.listSocket[e].key===t){Phaser.Utils.Array.SpliceOne(this.listSocket,e);break}},t.prototype.closeSocket=function(t){console.error("close socket "+t);var e=this.getSocket(t);if(e)try{e.close(),this.removeSocket(t)}catch(t){console.error(t)}return e},t.prototype.isConnected=function(t){return!1},t.prototype.initSocket=function(t,e){void 0===e&&(e="")},t.prototype.sendMessage=function(t,e){},t}();e.AbsSocketController=n},9284:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractReceiveController=void 0;var i=n(9323),o=n(490),r=function(){function t(t){this.scene=t,this.socket=null}return t.prototype.onClosed=function(){},t.prototype.onError=function(){},t.prototype.destroy=function(){},t.prototype.onConnected=function(){var t=this;console.log("onConnected",this.socket),null!==this.socket&&this.socket.on(i.EVENT_SOCKET_CORE.ERROR_REQUEST,(function(e){console.error(e),o.Utils.dispatchCustomEvent("socket-response-error",{detail:{message:e}}),t.onResponseError(e)}))},t.prototype.updateSocket=function(t){this.socket=t},t.prototype.onResponseError=function(t){},t}();e.AbstractReceiveController=r},9323:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SocketController=e.EVENT_SOCKET_CORE=void 0;var i=n(7304),o=n(423);!function(t){t.ERROR_REQUEST="socket-error"}(e.EVENT_SOCKET_CORE||(e.EVENT_SOCKET_CORE={}));var r=function(){function t(t,e,n){this.receiveController=t,this.webSocketController=null,this.listSocket=[],e&&this.initSocket(e,n)}return t.prototype.hasSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++){if(this.listSocket[e]===t)return!0}return!1},t.prototype.isConnected=function(t){return null!==this.webSocketController&&this.webSocketController.isConnected(t)},t.prototype.initSocket=function(t,e){void 0===e&&(e=""),this.initWebSocket(t,e),this.addSocket(t)},t.prototype.addSocket=function(t){this.hasSocket(t)||this.listSocket.push(t)},t.prototype.removeSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++)if(this.listSocket[e]===t){Phaser.Utils.Array.SpliceOne(this.listSocket,e);break}},t.prototype.initWebSocket=function(t,e){void 0===e&&(e=""),null===this.webSocketController&&(this.webSocketController=new i.WebSocketController,this.webSocketController.eventsObservable.on(o.EVENT_NAME.OPEN,this.receiveController.onConnected,this.receiveController),this.webSocketController.eventsObservable.on(o.EVENT_NAME.CLOSE,this.receiveController.onClosed,this.receiveController),this.webSocketController.eventsObservable.on(o.EVENT_NAME.ERROR,this.receiveController.onError,this.receiveController));var n=this.webSocketController.initSocket(t,e);this.receiveController.updateSocket(n)},t.prototype.closeSocket=function(t){null!==this.webSocketController&&this.webSocketController.closeSocket(t),this.removeSocket(t)},t.prototype.closeAllSocket=function(){for(;this.listSocket.length>0;){var t=this.listSocket[0];this.closeSocket(t)}},t.prototype.sendMessage=function(t,e){null!==this.webSocketController&&this.webSocketController.sendMessage(t,e)},t}();e.SocketController=r},7304:function(t,e,n){"use strict";var i,o=n(9998),r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketController=void 0;var s=n(423),a=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initSocket=function(t,e){var n=o(t,{reconnectionDelayMax:1e4,auth:{token:"Bearer ".concat(e)}});return n.on("connect",this._onSocketOpen.bind(this)),n.on("disconnect",this._onSocketClose.bind(this)),n.on("error",this._onSocketError.bind(this)),this.addSocket(t,n),n},e.prototype.sendMessage=function(t,e){var n=this.getSocket(e);null!==n&&n.connected&&n.send(t.buffer)},e.prototype._onSocketOpen=function(){this.eventsObservable.emit(s.EVENT_NAME.OPEN)},e.prototype._onSocketClose=function(){this.eventsObservable.emit(s.EVENT_NAME.CLOSE)},e.prototype._onSocketError=function(){this.eventsObservable.emit(s.EVENT_NAME.ERROR)},e.prototype.isConnected=function(t){var e=this.getSocket(t);return null!==e&&e.connected},e}(s.AbsSocketController);e.WebSocketController=a},1221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIWidget=e.VERTICAL_MODE=e.HORIZONTAL_MODE=void 0;var i,o,r=Phaser.Scale.Events.RESIZE,s=n(7101),a=n(9627),c=n(490);!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.CENTER=2]="CENTER",t[t.RIGHT=3]="RIGHT",t[t.STRETCH=4]="STRETCH",t[t.TEST=5]="TEST"}(i=e.HORIZONTAL_MODE||(e.HORIZONTAL_MODE={})),function(t){t[t.NONE=0]="NONE",t[t.TOP=1]="TOP",t[t.CENTER=2]="CENTER",t[t.BOTTOM=3]="BOTTOM",t[t.STRETCH=4]="STRETCH",t[t.TEST=5]="TEST"}(o=e.VERTICAL_MODE||(e.VERTICAL_MODE={}));var u=function(){function t(t,e,n,a,c,u,h){void 0===n&&(n=i.NONE),void 0===a&&(a=0),void 0===c&&(c=o.NONE),void 0===u&&(u=0),void 0===h&&(h=!0),this.object=t,this.modeMap=new Map([["LeftTop",s.ALIGN_CONST.LEFT_TOP],["LeftCenter",s.ALIGN_CONST.LEFT_CENTER],["LeftBottom",s.ALIGN_CONST.LEFT_BOTTOM],["CenterTop",s.ALIGN_CONST.TOP_CENTER],["CenterCenter",s.ALIGN_CONST.CENTER],["CenterBottom",s.ALIGN_CONST.BOTTOM_CENTER],["RightTop",s.ALIGN_CONST.RIGHT_TOP],["RightCenter",s.ALIGN_CONST.RIGHT_CENTER],["RightBottom",s.ALIGN_CONST.RIGHT_BOTTOM]]),this.target=null,this._horizontalAlignment={mode:i.NONE,left:0,right:0},this._verticalAlignment={mode:o.NONE,top:0,bottom:0},this._isGlobal=!0,this._isEnableWidget=!0,t.uiWidget=this,e&&(this.target=e),this._isGlobal=h,this._horizontalAlignment.mode=n,this._setHorizontalOffset(a),this._verticalAlignment.mode=c,this._setVerticalOffset(u),this.object.scene.scale.on(r,this.onResize,this),this.updateAlignPosition()}return t.prototype._setHorizontalOffset=function(t){Array.isArray(t)?(this._horizontalAlignment.left=t[0],this._horizontalAlignment.right=t[1]):this._horizontalAlignment.left=t},t.prototype._setVerticalOffset=function(t){Array.isArray(t)?(this._verticalAlignment.top=t[0],this._verticalAlignment.bottom=t[1]):this._verticalAlignment.top=t},t.prototype.setHorizontal=function(t,e){this._horizontalAlignment.mode=t,this._setHorizontalOffset(e),this.updateAlignPosition()},t.prototype.setVertical=function(t,e){this._verticalAlignment.mode=t,this._setVerticalOffset(e),this.updateAlignPosition()},t.prototype.setTarget=function(t){this.target=t,this.updateAlignPosition()},t.prototype.enableWidget=function(t){void 0===t&&(t=!0),this._isEnableWidget!==t&&(this._isEnableWidget=t,t?(this.object.scene.scale.on(r,this.onResize,this),this.updateAlignPosition()):this.object.scene.scale.off(r,this.onResize,this))},t.prototype.onResize=function(){this.updateAlignPosition()},t.prototype.updateAlignPosition=function(){if(this._isEnableWidget){var t=this.target||this.object.parentContainer,e=this.getFunction(this._horizontalAlignment.mode,this._verticalAlignment.mode);if(e){var n=this._horizontalAlignment.left,r=this._horizontalAlignment.right,c=this._verticalAlignment.top,u=this._verticalAlignment.bottom,h=new Phaser.Geom.Rectangle;t&&"function"==typeof t.getBounds&&t.getBounds(h),n=this.convertPercent(n,h.width),r=this.convertPercent(r,h.width),c=this.convertPercent(c,h.height),u=this.convertPercent(u,h.height);var l=0,p=0;this._horizontalAlignment.mode===i.STRETCH&&(l=h.width-(n+r),this.object instanceof RexPlugins.GameObjects.NinePatch?this.object.resize(l,this.object.height):this.object.displayWidth=l),this._verticalAlignment.mode===o.STRETCH&&(p=h.height-(c+u),this.object instanceof RexPlugins.GameObjects.NinePatch?this.object.resize(this.object.width,p):this.object.displayHeight=p),(0,s.QuickSet)(this.object,t,e,n,c,this._isGlobal)}else{n=this._horizontalAlignment.left,c=this._verticalAlignment.top;(0,a.TopLeft)(this.object,t,n,c,this._isGlobal)}}},t.prototype.getFunction=function(t,e){var n="";switch(t){case i.LEFT:case i.STRETCH:n="Left";break;case i.CENTER:n="Center";break;case i.RIGHT:n="Right"}var r="";switch(e){case o.TOP:case o.STRETCH:r="Top";break;case o.CENTER:r="Center";break;case o.BOTTOM:r="Bottom"}var s=n+r;return this.modeMap.get(s)},t.prototype.convertPercent=function(t,e){return"string"==typeof t?c.Utils.convertStringPercent(t,e):t},t}();e.UIWidget=u},6563:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1221);Phaser.GameObjects.GameObject.prototype.addUIWidget=function(t,e,n,o,r,s){return void 0===e&&(e=i.HORIZONTAL_MODE.NONE),void 0===n&&(n=0),void 0===o&&(o=i.VERTICAL_MODE.NONE),void 0===r&&(r=0),void 0===s&&(s=!0),new i.UIWidget(this,t,e,n,o,r,s)}},9834:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetBounds=e.GetCenterY=e.GetCenterX=e.GetBottom=e.GetTop=e.GetRight=e.GetLeft=e.SetCenterY=e.SetCenterX=e.SetCenter=e.SetBottom=e.SetTop=e.SetRight=e.SetLeft=void 0;var n=Phaser.Geom.Rectangle,i=Phaser.GameObjects.Container,o=new n(0,0,0,0);function r(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e+n.width*(i-.5))/o,t}function s(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e+n.height*(i-.5))/o,t}function a(t,e){if(void 0===e&&(e=!0),"function"==typeof t.getBounds)t.getBounds(o);else{var n=h(t);o.setTo(0,0,t.width*n,t.height*n)}if(!e){var i=c(t),r=u(t);o.x=t.x-o.width*(1-i),o.y=t.y-o.height*(1-r)}return o}function c(t){var e=t.originX;if(t instanceof i){var n=t.getAt(0);n&&(e=n.originX)}return e}function u(t){var e=t.originY;if(t instanceof i){var n=t.getAt(0);n&&(e=n.originY)}return e}function h(t){return null===t.parentContainer?1:t.getGlobalScale()}e.SetLeft=function(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e+n.width*i)/o,t},e.SetRight=function(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e-n.width*(1-i))/o,t},e.SetTop=function(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e+n.height*i)/o,t},e.SetBottom=function(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e-n.height*(1-i))/o,t},e.SetCenter=function(t,e,n){return r(t,e),s(t,n),t},e.SetCenterX=r,e.SetCenterY=s,e.GetLeft=function(t,e){return a(t,e).left},e.GetRight=function(t,e){return a(t,e).right},e.GetTop=function(t,e){return a(t,e).top},e.GetBottom=function(t,e){return a(t,e).bottom},e.GetCenterX=function(t,e){return a(t,e).centerX},e.GetCenterY=function(t,e){return a(t,e).centerY},e.GetBounds=a},7101:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSet=e.ALIGN_CONST=void 0;var i,o=n(9627);!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_CENTER=1]="TOP_CENTER",t[t.TOP_RIGHT=2]="TOP_RIGHT",t[t.LEFT_TOP=3]="LEFT_TOP",t[t.LEFT_CENTER=4]="LEFT_CENTER",t[t.LEFT_BOTTOM=5]="LEFT_BOTTOM",t[t.CENTER=6]="CENTER",t[t.RIGHT_TOP=7]="RIGHT_TOP",t[t.RIGHT_CENTER=8]="RIGHT_CENTER",t[t.RIGHT_BOTTOM=9]="RIGHT_BOTTOM",t[t.BOTTOM_LEFT=10]="BOTTOM_LEFT",t[t.BOTTOM_CENTER=11]="BOTTOM_CENTER",t[t.BOTTOM_RIGHT=12]="BOTTOM_RIGHT"}(i=e.ALIGN_CONST||(e.ALIGN_CONST={}));var r=[];r[i.BOTTOM_CENTER]=o.BottomCenter,r[i.BOTTOM_LEFT]=o.BottomLeft,r[i.BOTTOM_RIGHT]=o.BottomRight,r[i.CENTER]=o.Center,r[i.LEFT_CENTER]=o.LeftCenter,r[i.RIGHT_CENTER]=o.RightCenter,r[i.TOP_CENTER]=o.TopCenter,r[i.TOP_LEFT]=o.TopLeft,r[i.TOP_RIGHT]=o.TopRight,r[i.LEFT_BOTTOM]=r[i.BOTTOM_LEFT],r[i.LEFT_TOP]=r[i.TOP_LEFT],r[i.RIGHT_BOTTOM]=r[i.BOTTOM_RIGHT],r[i.RIGHT_TOP]=r[i.TOP_RIGHT],e.QuickSet=function(t,e,n,i,o,s){return r[n](t,e,i,o,s)}},9627:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopRight=e.TopLeft=e.TopCenter=e.RightCenter=e.LeftCenter=e.Center=e.BottomRight=e.BottomCenter=e.BottomLeft=void 0;var i=n(9834);e.BottomLeft=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.BottomCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenterX)(t,(0,i.GetCenterX)(e,r)+n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.BottomRight=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.Center=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenter)(t,(0,i.GetCenterX)(e,r)+n,(0,i.GetCenterY)(e,r)+o),t},e.LeftCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetCenterY)(t,(0,i.GetCenterY)(e,r)+o),t},e.RightCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetCenterY)(t,(0,i.GetCenterY)(e,r)+o),t},e.TopCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenterX)(t,(0,i.GetCenterX)(e,r)+n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t},e.TopLeft=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t},e.TopRight=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t}},9611:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberUtils=void 0;var n=function(){function t(){}return t.numberFormat=function(t){return Intl.NumberFormat().format(t)},t.getRandomArbitrary=function(t,e){return Math.random()*(e-t)+t},t.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},t.getRandomIntInclusive=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)},t}();e.NumberUtils=n},490:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0;var o=function(){function t(){}return t.dispatchCustomEvent=function(t,e){window.dispatchEvent(new CustomEvent(t,e))},t.convertStringPercent=function(t,e){return parseInt(t.replace("%",""))/100*e},t.randomColor=function(){return Number("0x"+Math.floor(16777215*Math.random()).toString(16))},t.checkSupportedWebP=function(){return n(this,void 0,void 0,(function(){var e,n;return i(this,(function(i){switch(i.label){case 0:if(!window.createImageBitmap)return t.isSupportedWebP=!1,[2];e="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=",i.label=1;case 1:return i.trys.push([1,5,,6]),[4,fetch(e)];case 2:return[4,i.sent().blob()];case 3:return n=i.sent(),[4,createImageBitmap(n)];case 4:return i.sent(),t.isSupportedWebP=!0,[3,6];case 5:return i.sent(),t.isSupportedWebP=!1,[3,6];case 6:return[2]}}))}))},t.isSupportedWebP=!0,t}();e.Utils=o},6492:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsManifest=e.SoundName=e.AtlasName=void 0;var i,o,r=n(2380);!function(t){!function(t){t.name="AtlasRRMisc",function(t){t["bg-board"]="bg-board",t["bg-level"]="bg-level",t["bg-win"]="bg-win",t.blue="blue",t["char-happy"]="char-happy",t["char-normal"]="char-normal",t["char-sad"]="char-sad",t["choose-active-0"]="choose-active-0",t["choose-active-1"]="choose-active-1",t["choose-active-2"]="choose-active-2",t["choose-inactive-0"]="choose-inactive-0",t["choose-inactive-1"]="choose-inactive-1",t["choose-inactive-2"]="choose-inactive-2",t["icon-bit"]="icon-bit",t["icon-help"]="icon-help",t["icon-lose"]="icon-lose",t["money-"]="money-",t["payout-active"]="payout-active",t["payout-inactive"]="payout-inactive",t["shining-light"]="shining-light",t["star-crazy"]="star-crazy",t["star-easy"]="star-easy",t["star-hard"]="star-hard",t.windy="windy"}(t.Frame||(t.Frame={}))}(t.AtlasRRMisc||(t.AtlasRRMisc={})),function(t){t.name="AtlasRRNinePatch",function(t){t["bg-amount"]="bg-amount",t["bg-bet"]="bg-bet",t["bg-blue"]="bg-blue",t["bg-green"]="bg-green",t["bg-yellow"]="bg-yellow"}(t.Frame||(t.Frame={}))}(t.AtlasRRNinePatch||(t.AtlasRRNinePatch={}))}(i=e.AtlasName||(e.AtlasName={})),function(t){t.background="background",t.chooseClick="choose-click",t.coin="coin",t.crack="crack",t.pick="pick",t.winRound="win-round"}(o=e.SoundName||(e.SoundName={})),e.AssetsManifest={images:["background","background-win"],sprites:[i.AtlasRRMisc.name,i.AtlasRRNinePatch.name,"core/AtlasCoinsAnimate","core/AtlasMisc","core/AtlasNinePatch"],fonts:{custom:{families:["Montserrat-Regular","Montserrat-SemiBold"],urls:[r.Config.BASE_URL+r.Config.PATH_ASSETS+"fonts/fonts.css"]}},animations:[],audio:[o.background+".mp3",o.chooseClick+".mp3",o.coin+".mp3",o.crack+".mp3",o.pick+".mp3",o.winRound+".mp3","core/menu-click.mp3"]}},8615:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(3505),s=n(1568),a=n(8907),c=n(6853),u=n(3975),h=n(68),l=n(6441),p=n(4302),f=n(8546),d=n(7857);window.addEventListener("init-rr",(function(t){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return a.RRData.walletId=t.detail,[4,(0,r.initGame)({title:"ROAD TO RICHES 1.0",render:{roundPixels:!1},dom:{createContainer:!0},plugins:{global:[{key:"rexTextEdit",plugin:h,start:!0},{key:"rexScroller",plugin:l,start:!0},{key:"rexShakePosition",plugin:p,start:!0},{key:"rexShatterImagePlugin",plugin:f,start:!0},{key:"rexOutlinePipeline",plugin:d,start:!0}]},scene:[u.LoadingScene,s.RoadRichesScene]})];case 1:return e.sent().renderer.pipelines.addPostPipeline("GlowOuter",c.GlowOuterPostFx),[2]}}))}))}))},2466:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonGreen=void 0;var r=Phaser.GameObjects.Container,s=n(5080),a=n(6492),c=a.AtlasName.AtlasRRNinePatch,u=function(t){function e(e){var n=t.call(this,e)||this;return n.rrScene=e,n.btnCashOut=n.rrScene.add.rexNinePatch(0,0,n.rrScene.sizer.width-20*s.DPR,40*s.DPR,c.name,c.Frame["bg-green"],[25*s.DPR,void 0,25*s.DPR],[19*s.DPR,void 0,19*s.DPR]),n.txtCashOut=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-SemiBold",fontSize:14*s.DPR+"px",color:"#fff"}),n.btnCashOutBehavior=null,n.txtCashOut.setOrigin(.5),n.btnCashOut.setInteractive({useHandCursor:!0}),n.add([n.btnCashOut,n.txtCashOut]),n.btnCashOutBehavior=n.rrScene.plugins.get("rexButton").add(n.btnCashOut),n.btnCashOutBehavior.on("click",n.onClickButton,n),n}return o(e,t),e.prototype.changeText=function(t){this.txtCashOut.setText(t)},e.prototype.setEnable=function(t){null!==this.btnCashOutBehavior&&(this.btnCashOutBehavior.setEnable(t),t?this.btnCashOut.setInteractive():this.btnCashOut.disableInteractive())},e.prototype.onClickButton=function(){this.rrScene.soundManager.play(a.SoundName.chooseClick)},e}(r);e.ButtonGreen=u},680:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonHelp=void 0;var r=Phaser.GameObjects.Image,s=n(6492),a=s.AtlasName.AtlasRRMisc,c=n(490),u=function(t){function e(e){var n=t.call(this,e,0,0,a.name,a.Frame["icon-help"])||this;return n.rrScene=e,n.btnBehavior=n.scene.plugins.get("rexButton").add(n),n.btnBehavior.on("click",(function(){n.rrScene.soundManager.play(s.SoundName.chooseClick),c.Utils.dispatchCustomEvent("rr-help")})),n}return o(e,t),e}(r);e.ButtonHelp=u},483:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonContinue=void 0;var r=n(2466),s=n(5080),a=function(t){function e(e){var n=t.call(this,e)||this;return n.btnCashOut.resize(n.rrScene.sizer.width-19*s.DPR,40*s.DPR),n.changeText("Continue To Play"),n}return o(e,t),e.prototype.onClickButton=function(){t.prototype.onClickButton.call(this),this.rrScene.onStart()},e.prototype.onResize=function(t){this.rrScene.isMobile?(this.btnCashOut.resize(290*s.DPR,40*s.DPR),this.btnCashOut.setScale(t),this.txtCashOut.setFontSize(14*s.DPR*t)):(this.btnCashOut.resize(400,48),this.btnCashOut.setScale(t),this.txtCashOut.setFontSize(20))},e}(r.ButtonGreen);e.ButtonContinue=a},5625:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonCashOut=void 0;var r=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.onClickButton=function(){t.prototype.onClickButton.call(this),this.emit("cash-out")},e.prototype.clearTint=function(){this.btnCashOut.clearTint()},e.prototype.setTintFill=function(t){this.btnCashOut.setTintFill(t)},e.prototype.onResize=function(t,e,n){this.btnCashOut.resize(t-150,e),this.btnCashOut.setScale(n),this.txtCashOut.setFontSize(20)},e}(n(2466).ButtonGreen);e.ButtonCashOut=r},1408:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoBet=e.EVENT_CHANGE_BET=void 0;var r=Phaser.GameObjects.Container,s=Phaser.Input.Events.POINTER_DOWN,a=n(6492),c=a.AtlasName.AtlasRRMisc,u=a.AtlasName.AtlasRRNinePatch,h=n(5080),l=n(5625),p=n(2466),f=n(6071),d=n(4237),v=n(8907),y=n(6853);e.EVENT_CHANGE_BET="changeBet";var m=function(t){function n(e){var n=t.call(this,e)||this;n.rrScene=e,n.betAmountEdit=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-Regular",fontSize:14*h.DPR+"px",color:"#fff"}),n.placeBet=n.rrScene.add.text(0,0,"Place Bet",{fontFamily:"Montserrat-SemiBold",fontSize:16*h.DPR+"px",color:"#fff"}),n.placeholder=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-Regular",fontSize:n.rrScene.isMobile?16*h.DPR+"px":20*h.DPR+"px",color:"#58708C"}),n.bgAmount=n.rrScene.add.rexNinePatch(0,0,n.rrScene.sizer.width/2-10*h.DPR,40*h.DPR,u.name,u.Frame["bg-amount"],[22*h.DPR,void 0,5*h.DPR],[19*h.DPR,void 0,19*h.DPR]),n.btnBet=n.rrScene.add.rexNinePatch(0,0,n.rrScene.sizer.width/2-10*h.DPR,40*h.DPR,u.name,u.Frame["bg-bet"],[5*h.DPR,void 0,22*h.DPR],[19*h.DPR,void 0,19*h.DPR]),n.iconBit=n.rrScene.add.image(0,0,c.name,c.Frame["icon-bit"]),n.containerBet=n.rrScene.make.container({}),n.containerBetVirtual=null,n.btnCashOut=new l.ButtonCashOut(n.rrScene),n.glowPipeline=n.rrScene.renderer.pipelines.add("GlowFilterPipeline3",new f.GlowFilterPipeline(n.rrScene.game)),n.payoutNumber=0,n.betAmountNumber=0,n._txtPayout=0,n._maxBetAmount=0,n._tweenFlicker=null,n._tweenGlowingBet=null,n._tweenGlowingOuter=null,n.rrScene.isMobile&&(n.containerBetVirtual=new p.ButtonGreen(n.rrScene),n.containerBetVirtual.setVisible(!1),n.containerBetVirtual.setPosition(n.rrScene.sizer.width/2,n.rrScene.sizer.height/2),n.containerBetVirtual.btnCashOut.setTintFill(207181),n.rrScene.add.existing(n.containerBetVirtual)),n.betAmountEdit.setOrigin(.5),n.placeholder.setOrigin(.5),n.placeBet.setOrigin(.5),n.containerBet.add([n.btnBet,n.bgAmount,n.iconBit,n.betAmountEdit,n.placeholder,n.placeBet]),n.btnCashOut.setVisible(!1),n.btnCashOut.on("cash-out",n.onClickCashOut,n),n.add([n.containerBet,n.btnCashOut]),n.btnBet.setInteractive({useHandCursor:!0}).on(s,n.onClickBet,n),n.setAllPosition(),n.enabledBtnBet(!1),n.betAmountEdit.once(Phaser.GameObjects.Events.DESTROY,(function(){i.onClose=null}),n);var i=n.rrScene.plugins.get("rexTextEdit").add(n.betAmountEdit);return n.bgAmount.setInteractive({cursor:"text"}).on(s,(function(){n.rrScene.soundManager.play(a.SoundName.chooseClick),i.open({type:"text",selectAll:!0,onOpen:function(t){n.updateBetAmount(0),n.placeholder.setVisible(!1),n.stopGlowingOuter(n.placeholder),n.rrScene.isMobile||(t.setVisible(!0),t.setText("|"),null!==n._tweenFlicker?n._tweenFlicker.resume():n._tweenFlicker=n.rrScene.tweens.add({targets:t,alpha:0,repeat:-1,duration:300,yoyo:!0}),n.enabledBtnBet(!1)),null!==n.containerBetVirtual&&n.containerBetVirtual.setVisible(!0)},onClose:function(t){null!==n._tweenFlicker&&(n._tweenFlicker.pause(),t.setAlpha(1)),null!==n.containerBetVirtual&&n.containerBetVirtual.setVisible(!1),n.betAmountNumber<=0?(t.setVisible(!1),n.placeholder.setVisible(!0),n._setTextPlaceholder(),n.enabledBtnBet(!1),n.playGlowingOuter(n.placeholder)):n.enabledBtnBet(!0)},onTextChanged:function(t,e){null!==n._tweenFlicker&&(n._tweenFlicker.pause(),t.setAlpha(1));var i=+Number(e).toFixed(2);i>n._maxBetAmount&&(e=(i=n._maxBetAmount)+""),n.updateBetAmount(i),""===e&&null!==n._tweenFlicker&&(n._tweenFlicker.resume(),t.setText("|")),""===e||n.betAmountNumber<=0?n.enabledBtnBet(!1):n.enabledBtnBet(!0)}}),i.inputText.node.onkeypress=function(t){if(n.betAmountNumber===n._maxBetAmount)return!1;var e=t.which?t.which:t.keyCode;return 46==e?-1===i.inputText.node.value.indexOf("."):!(e>31&&(e<48||e>57))},i.inputText.node.setAttribute("inputmode","numeric")})),n}return o(n,t),n.prototype._setTextPlaceholder=function(){this.placeholder.setText("Max Bet: ".concat(this._maxBetAmount))},n.prototype.onJoin=function(){this.playGlowingOuter(this.placeholder)},n.prototype.onConnected=function(t){this.updateBetAmount(t),this.stopGlowingBet(this.btnBet)},n.prototype.onChangeLevel=function(t){var e=v.RRData.settingJoin;t===d.ELevel.EASY&&(this._maxBetAmount=+e.easy.maxbet),t===d.ELevel.HARD&&(this._maxBetAmount=+e.hard.maxbet),t===d.ELevel.CRAZY&&(this._maxBetAmount=+e.crazy.maxbet),this._setTextPlaceholder()},n.prototype.getBetAmount=function(){return this.betAmountNumber},n.prototype.updateBetAmount=function(t){this.betAmountEdit.setText(t+""),this.betAmountNumber=t,null!==this.containerBetVirtual&&this.containerBetVirtual.txtCashOut.setText(t+""),this.emit(e.EVENT_CHANGE_BET,this.betAmountNumber)},n.prototype.onClickBet=function(){this.rrScene.soundManager.play(a.SoundName.chooseClick);var t=this.getBetAmount();t>0&&this.rrScene.requestBet(t)},n.prototype.onClickCashOut=function(){this.rrScene.requestCashOut(this.payoutNumber)},n.prototype.enabledBtnBet=function(t){t?(this.btnBet.setInteractive(),this.btnBet.clearTint(),this.playGlowingBet(this.btnBet)):(this.btnBet.disableInteractive(),this.btnBet.setTintFill(8421504),this.stopGlowingBet(this.btnBet))},n.prototype.enabledBtnCashOut=function(t){null!==this.btnCashOut&&this.btnCashOut.setEnable(t),t?this.btnCashOut.clearTint():this.btnCashOut.setTintFill(8421504)},n.prototype.onPlayerBetting=function(t){this.containerBet.setVisible(!1),this.btnCashOut.setVisible(!0),this.updatePayout(t),this.enabledBtnCashOut(!1)},n.prototype.updatePayout=function(t){var e=this,n=+t.toFixed(2);this.enabledBtnCashOut(!0),this.rrScene.tweens.addCounter({from:this._txtPayout,to:n,duration:1e3,onUpdate:function(t,n){e.btnCashOut.changeText("Cash Out "+n.value.toFixed(2)+" $")},onComplete:function(){e.btnCashOut.changeText("Cash Out "+e.payoutNumber+" $")}}),this._txtPayout=n,this.payoutNumber=n},n.prototype.playGlowingBet=function(t){t.setPipeline(this.glowPipeline),this.glowPipeline.intensity=0,this.tweenGlowing()},n.prototype.tweenGlowing=function(){var t=this;null===this._tweenGlowingBet?this._tweenGlowingBet=this.rrScene.tweens.add({targets:this.glowPipeline,intensity:.01,duration:150,completeDelay:1e3,yoyo:!0,repeat:2,onComplete:function(e){e.remove(),t.tweenGlowing()}}):this._tweenGlowingBet.play()},n.prototype.stopGlowingBet=function(t){null!==this._tweenGlowingBet&&this._tweenGlowingBet.stop(),t.resetPipeline()},n.prototype.playGlowingOuter=function(t){t.setPostPipeline(y.GlowOuterPostFx);var e=t.getPostPipeline(y.GlowOuterPostFx);e.outerStrength=0,e.innerStrength=0,this.tweenGlowingOuter(e)},n.prototype.tweenGlowingOuter=function(t){var e=this;null===this._tweenGlowingOuter?this._tweenGlowingOuter=this.rrScene.tweens.add({targets:t,outerStrength:.5,innerStrength:1,duration:150,completeDelay:1e3,yoyo:!0,repeat:2,onComplete:function(t,n){t.remove(),e.tweenGlowingOuter(n)}}):this._tweenGlowingOuter.play()},n.prototype.stopGlowingOuter=function(t){null!==this._tweenGlowingOuter&&(this._tweenGlowingOuter.stop(),this._tweenGlowingOuter=null),t.resetPostPipeline()},n.prototype.resetAll=function(){this.payoutNumber=0,this._txtPayout=0,this.containerBet.setVisible(!0),this.btnCashOut.setVisible(!1),this.placeholder.setVisible(!1),this.enabledBtnBet(!0)},n.prototype.onResize=function(t,e){this.btnCashOut.onResize(t,48,e),this.bgAmount.resize(t/2-75,48),this.btnBet.resize(t/2-75,48),this.bgAmount.setScale(e),this.btnBet.setScale(e),this.iconBit.setScale(e),this.betAmountEdit.setFontSize(18*e),this.placeBet.setFontSize(20*e),this.setAllPosition(e)},n.prototype.setAllPosition=function(t){void 0===t&&(t=1),this.bgAmount.x=-this.bgAmount.width*t/2,this.btnBet.x=this.btnBet.width*t/2,this.betAmountEdit.setPosition(this.bgAmount.x,this.bgAmount.y),this.placeholder.setPosition(this.betAmountEdit.x,this.betAmountEdit.y),this.iconBit.setPosition(this.bgAmount.x+(this.bgAmount.width-this.iconBit.width)*t/2-12*h.DPR,this.bgAmount.y),this.placeBet.setPosition(this.btnBet.x,this.btnBet.y)},n}(r);e.CompoBet=m},554:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoBoard=void 0;var r=Phaser.GameObjects.Container,s=n(4237),a=n(2103),c=n(8474),u=n(5080),h=Phaser.Geom.Rectangle,l=n(6492),p=l.AtlasName.AtlasRRMisc,f=n(8907),d=Phaser.Geom.Point,v=function(t){function e(e){var n=t.call(this,e)||this;n.rrScene=e,n.container=n.rrScene.add.container(0,0),n.scroller=null,n.listItems=[],n.listItemsBoard=[],n.listItemsShatter=[],n.particleManager=n.rrScene.make.particles({key:p.name}),n.particleEmitter=n.particleManager.createEmitter({frame:{frames:["blue"],cycle:!0},scale:{start:1,end:0},alpha:{start:0,end:1},speed:50,lifespan:1e3,quantity:3,frequency:2,blendMode:"ADD",tint:[16776960,16711680,65280,255],emitZone:{type:"random",source:new h,quantity:0}}),n.bgBoard=null,n._tempBounds=new h,n.level=s.ELevel.EASY,n.nextLevel=-1,n._padding=8,n.rrScene.isMobile||(n.bgBoard=n.rrScene.add.image(0,0,p.name,p.Frame["bg-board"]),n.add(n.bgBoard)),n.add(n.container);for(var i=0;i<9;i++){var o=new c.ItemBoard(n.rrScene);o.y=i*(56-n._padding)*u.DPR,o.setData({index:i}),n.listItemsBoard.unshift(o),n.container.add(o)}return n}return o(e,t),e.prototype.addScroller=function(t,e){var n=this,i=e.top-(t.bottom+5*u.DPR),o=this.container.getBounds(),r=t.bottom-o.top;if(this.container.setPosition(this.rrScene.sizer.width/2,r),o.height>i){var s=this.rrScene.make.graphics({});s.fillRect(0,t.bottom,this.rrScene.sizer.width,i),this.container.setMask(s.createGeometryMask());var a=r-o.height+i,c=this.rrScene.add.zone(0,t.bottom,this.rrScene.sizer.width,i);c.setOrigin(0),this.add(c),this.sendToBack(c),null===this.scroller&&(this.scroller=this.rrScene.plugins.get("rexScroller").add(c,{bounds:[a,r],value:a,backDeceleration:2e3,slidingDeceleration:1e3,valuechangeCallback:function(t){n.container.y=t}}))}},e.prototype.onChangeLevel=function(t,e){this.level=t,this.onChangeBetAmount(e);var n=this.getConfigLevel().config.collumns,i=this.getItems(0,n,t),o=i[0].getBounds();this.listItemsBoard[0].updateItems(i,o.width);for(var r=this.listItemsBoard.length,s=1;s<r;s++){var a=this.getItems(s,n,t);this.listItemsBoard[s].updateItems(a,o.width)}s=r*n;for(var c=this.listItems.length;s<c;s++)this.listItems[s].setVisible(!1);null!==this.scroller&&(this.scroller.value=this.scroller.minValue)},e.prototype.onChangeBetAmount=function(t){for(var e=this.getConfigLevel(),n=this.listItemsBoard.length,i=0;i<n;i++)this.listItemsBoard[i].updateTextPayout(Math.pow(e.config.multiplier,i+1)*t)},e.prototype.getConfigLevel=function(){var t;t=this.level===s.ELevel.EASY?s.ELevelString.EASY:this.level===s.ELevel.HARD?s.ELevelString.HARD:s.ELevelString.CRAZY;for(var e=0;e<f.RRData.configsLevel.length;e++){var n=f.RRData.configsLevel[e];if(n.value===t)return n}return{value:s.ELevelString.EASY,config:{multiplier:0,collumns:4,rows:9,winningCollumns:1}}},e.prototype.getItems=function(t,e,n){for(var i=[],o=t*e;o<(t+1)*e;o++){var r=this.listItems[o];void 0===r&&((r=new a.Item(this.rrScene)).on("click-item",this.onItemClick,this),this.listItems.push(r)),r.setVisible(!0),r.onChangeLevel(n),i.push(r)}return i},e.prototype.getItemShatter=function(){for(var t,e=this.level,n=0;n<this.listItemsShatter.length;n++)if(this.listItemsShatter[n].level===e){t=this.listItemsShatter[n];break}if(void 0===t){var i="choose-active-"+e,o=this.rrScene.make.rexShatterImage({x:0,y:0,key:p.name,frame:p.Frame[i],samplesPerRing:32,variation:100});t={level:e,shatter:o,shake:this.rrScene.plugins.get("rexShakePosition").add(o,{mode:0,duration:2e3,magnitude:1*u.DPR,magnitudeMode:0})},this.listItemsShatter.push(t)}return t},e.prototype.onItemClick=function(t){this.rrScene.requestNext(t.getData("index"));var e=this.listItemsBoard[this.nextLevel];e&&e.resetEffectPl()},e.prototype._openItem=function(t,e,n){var i=this,o=this.getItemShatter(),r=o.shatter,s=o.shake,a=t.getGlobalPosition();r.setOrtho(r.width/r.height/t.scale,1/t.scale),r.resetImage(),r.setVisible(!0),r.copyPosition(a),r.shatter(),r.startUpdate();var c=0,u=void 0;e?(c=1e3,u=300,s.setDuration(300)):(c=1e3,u=this.rrScene.tweens.stagger(30,{}),s.setDuration(1e3)),s.shake(),this.rrScene.tweens.add({targets:r.faces,alpha:0,angle:function(){return 180*Math.random()-90},y:"-=1.5",ease:"Linear",duration:c,delay:u,onStart:function(){t.visibleImage(!1),e||i.rrScene.soundManager.play(l.SoundName.crack)},onComplete:function(){r.stopUpdate().setVisible(!0),t.fillFullGraphics(),n()}})},e.prototype.openItem=function(t,e,n,i){var o=this.listItemsBoard[this.nextLevel];if(o){o.setItemWinLose(t,e,n);var r=o.getItemByIndex(t);null!==r&&this._openItem(r,e,i)}},e.prototype.openAllItems=function(t){for(var e=0;e<t.length;e++){var n=this.listItemsBoard[e];if(n){var i=t[e];n.setItemWinLose(i,!1),n.resetEffectPl();var o=n.getItemByIndex(i);null!==o&&(o.visibleImage(!1),o.fillFullGraphics())}}},e.prototype.onConnected=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];this.nextLevel++;var o=this.listItemsBoard[this.nextLevel];if(o){var r=o.setItemWinLose(i.selectedPosition,!0,Math.pow(i.multiplier,n+1)*e);null!==r&&(r.visibleImage(!1),r.fillFullGraphics())}}},e.prototype.onPlayerBetting=function(){this.nextLevel++;var t=this.listItemsBoard[this.nextLevel];t&&(t.parentContainer.bringToTop(t),t.activeItem(this.particleEmitter))},e.prototype.onPlayerWin=function(){var t=this.listItemsBoard[this.nextLevel];t&&(t.parentContainer.moveTo(t,t.getData("index")),t.onPlayerWin()),this.onPlayerBetting()},e.prototype.onPlayerLose=function(t){},e.prototype.resetAll=function(){this.nextLevel=-1,null!==this.scroller&&(this.scroller.value=this.scroller.minValue);for(var t=this.listItemsBoard.length,e=0;e<t;e++){var n=this.listItemsBoard[e];n.parentContainer.moveTo(n,n.getData("index")),n.resetAll()}},e.prototype.resizeBackground=function(){var t=1;return null!==this.bgBoard&&(t=this.rrScene.sizer.height/this.bgBoard.height,this.bgBoard.setScale(t)),t},e.prototype.onResize=function(t,e,n){this.getBgBounds();for(var i=0;i<this.listItems.length;i++){this.listItems[i].setScale(n)}var o=this.listItems[0].getBounds().width,r=this.listItemsBoard.length;for(i=r-1;i>=0;i--){var s=this.listItemsBoard[i];s.onResize(this._tempBounds,n,o),s.y=(r-i-1)*(78-this._padding)*n}if(null!==this.bgBoard){this.container.setPosition(0);var a=this.container.getBounds(),c=e.top-t.bottom;this.container.setPosition(this.bgBoard.x,t.bottom+c/2-a.centerY)}},e.prototype.getBgBounds=function(){return null!==this.bgBoard?this.bgBoard.getBounds(this._tempBounds):this._tempBounds},e.prototype.getBgSize=function(){return null!==this.bgBoard?new d(this.bgBoard.width,this.bgBoard.height):new d(450*u.DPR,676*u.DPR)},e}(r);e.CompoBoard=v},2103:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var r=Phaser.GameObjects.Container,s=n(6492),a=s.AtlasName.AtlasRRMisc,c=n(4237),u=n(5080),h=Phaser.Geom.Rectangle,l=function(t){function e(e){var n=t.call(this,e,0,0)||this;return n.rrScene=e,n.level=c.ELevel.EASY,n.image=n.rrScene.make.image({key:a.name,frame:a.Frame["choose-inactive-0"]}),n.btnBehavior=null,n.txtPayout=null,n.containerPayout=null,n.iconBit=null,n.graphics=null,n.iconLose=null,n.tBounds1=new h,n.tBounds2=new h,n.add(n.image),n}return o(e,t),e.prototype.onChangeLevel=function(t){this.level=t;var e="choose-inactive-"+this.level;this.image.setFrame(a.Frame[e])},e.prototype.setActivity=function(t){var e="";t?(e="choose-active-"+this.level,this.image.setFrame(a.Frame[e]),this.image.setInteractive({useHandCursor:!0}),null===this.btnBehavior&&(this.btnBehavior=this.rrScene.plugins.get("rexButton").add(this.image),this.btnBehavior.on("click",this.onClickItem,this))):(e="choose-inactive-"+this.level,this.image.setFrame(a.Frame[e]),this.image.disableInteractive()),null!==this.btnBehavior&&this.btnBehavior.setEnable(t)},e.prototype.onClickItem=function(){this.rrScene.enabledInput(!1),this.rrScene.soundManager.play(s.SoundName.pick),this.emit("click-item",this)},e.prototype.visibleImage=function(t){this.image.setVisible(t)},e.prototype.fillFullGraphics=function(){if(null!==this.graphics){var t=this.image.width,e=this.image.height;this.graphics.fillRoundedRect(0,0,t,e,4*u.DPR).setPosition(-t/2,-e/2)}},e.prototype.setWinLose=function(t,e){var n=t?49730:15545427;null===this.graphics&&(this.graphics=this.rrScene.make.graphics({}),this.add(this.graphics),this.sendToBack(this.graphics));var i=this.image.displayWidth-4,o=this.image.displayHeight-4;if(this.graphics.setVisible(!0).clear().fillStyle(n).fillRoundedRect(0,0,i,o,4*u.DPR).setPosition(-i/2,-o/2),t){if(null===this.containerPayout&&(this.containerPayout=this.rrScene.add.container(0,0),this.add(this.containerPayout),this.swap(this.containerPayout,this.image),this.txtPayout=this.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-Regular",fontSize:this.rrScene.isMobile?18*u.DPR+"px":"24px",color:"#fff"}),this.txtPayout.setOrigin(0,.5),this.iconBit=this.rrScene.add.image(0,0,a.name,a.Frame["icon-bit"]),this.iconBit.setTintFill(16777215),this.iconBit.setOrigin(0,.5),this.containerPayout.add([this.txtPayout,this.iconBit])),null!==this.txtPayout&&(e&&(e=+e.toFixed(2)),this.txtPayout.setText(e+""),null!==this.iconBit&&(this.iconBit.x=this.txtPayout.width+5*u.DPR)),this.containerPayout.setVisible(!0),this.containerPayout.setScale(1),this.containerPayout.setPosition(0),this.containerPayout.getBounds(this.tBounds1),this.image.getBounds(this.tBounds2),this.tBounds1.width>this.tBounds2.width){var r=this.tBounds2.width/this.tBounds1.width;this.containerPayout.setScale(r),this.containerPayout.getBounds(this.tBounds1)}this.containerPayout.setPosition((this.tBounds2.centerX-this.tBounds1.centerX)/this.scaleX,0)}else null===this.iconLose&&(this.iconLose=this.rrScene.make.image({key:a.name,frame:a.Frame["icon-lose"]}),this.add(this.iconLose),this.swap(this.iconLose,this.image)),this.iconLose.setVisible(!0)},e.prototype.reset=function(){this.visibleImage(!0),this.image.removeInteractive(),null!==this.graphics&&this.graphics.setVisible(!1),null!==this.iconLose&&this.iconLose.setVisible(!1),null!==this.containerPayout&&this.containerPayout.setVisible(!1)},e}(r);e.Item=l},8474:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ItemBoard=void 0;var r=Phaser.GameObjects.Container,s=n(6492),a=s.AtlasName.AtlasRRNinePatch,c=n(5080),u=s.AtlasName.AtlasRRMisc,h=Phaser.Geom.Rectangle,l=n(6853),p=function(t){function e(e){var n=t.call(this,e)||this;return n.rrScene=e,n.bg=n.rrScene.add.rexNinePatch(0,0,2,2,a.name,a.Frame["bg-blue"],[12*c.DPR,void 0,12*c.DPR],[12*c.DPR,void 0,12*c.DPR]),n.bgPayout=n.rrScene.add.image(0,0,u.name,u.Frame["payout-inactive"]),n.txtPayout=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-Regular",fontSize:14*c.DPR+"px",color:"#fff"}),n.containerPayout=n.rrScene.add.container(),n.containerItem=n.rrScene.add.container(),n.widthBoard=0,n.trickBug=1,n.tweenHighlight=null,n.arrayPipeline=[],n.particleEmitter=null,n.widthBoard=Math.min(342*c.DPR,n.rrScene.sizer.width),n.bg.resize(n.widthBoard,56*c.DPR),n.add(n.bg),n.txtPayout.setOrigin(.5,1),n.txtPayout.setText("0"),n.txtPayout.y=n.bgPayout.height/2,n.containerPayout.add([n.bgPayout,n.txtPayout]),n.containerPayout.y=-(n.bg.height+n.bgPayout.height)/2,n.add(n.containerPayout),n.add(n.containerItem),n}return o(e,t),e.prototype.updateItems=function(t,e){this.containerItem.removeAll();for(var n=(this.widthBoard-t.length*e)/(t.length+1),i=0;i<t.length;i++){var o=t[i];o.x=i*(e+n),o.setData({index:i}),this.containerItem.add(o)}this.containerItem.setPosition(0);var r=this.containerItem.getBounds(),s=this.bg.getBounds();this.containerItem.setPosition(s.centerX-r.centerX,0)},e.prototype.updateTextPayout=function(t){this.txtPayout.setText((+t).toFixed(2))},e.prototype.visiblePayout=function(t){this.containerPayout.setVisible(t)},e.prototype.activeItem=function(t){this.trickBug*=-1,this.particleEmitter=t;var e=t.manager;this.add(e),this.swap(e,this.containerItem);var n=new h(-this.bg.width/2,-this.bg.height/2,this.bg.width,this.bg.height);t.setEmitZone({type:"random",source:n,quantity:0}),t.start();for(var i=0;i<this.containerItem.length;i++){var o=this.containerItem.getAt(i);o.setActivity(!0),o.setPostPipeline(l.GlowOuterPostFx);var r=o.getPostPipeline(l.GlowOuterPostFx);r.outerStrength=0,r.innerStrength=0,this.arrayPipeline.push(r)}this.bg.setTexture(a.name,a.Frame["bg-yellow"],[12*c.DPR,void 0,12*c.DPR],[12*c.DPR,void 0,12*c.DPR]),this.bg.resize(this.widthBoard+this.trickBug,this.bg.height),this.bgPayout.setFrame(u.Frame["payout-active"]),this.tweenPipeline(this.arrayPipeline)},e.prototype.inactiveItem=function(){this.resetEffectPl(),this.trickBug*=-1,this.bg.setTexture(a.name,a.Frame["bg-blue"],[12*c.DPR,void 0,12*c.DPR],[12*c.DPR,void 0,12*c.DPR]),this.bg.resize(this.widthBoard+this.trickBug,this.bg.height),this.bgPayout.setFrame(u.Frame["payout-inactive"]);for(var t=0;t<this.containerItem.length;t++){this.containerItem.getAt(t).setActivity(!1)}},e.prototype.resetEffectPl=function(){null!==this.tweenHighlight&&this.tweenHighlight.stop();for(var t=0;t<this.containerItem.length;t++){this.containerItem.getAt(t).resetPostPipeline()}this.arrayPipeline.length=0,null!==this.particleEmitter&&(this.particleEmitter.stop(),this.particleEmitter=null)},e.prototype.setItemWinLose=function(t,e,n){this.visiblePayout(!1);var i=this.getItemByIndex(t);return null!==i&&i.setWinLose(e,n),i},e.prototype.getItemByIndex=function(t){for(var e=0;e<this.containerItem.length;e++){var n=this.containerItem.getAt(e);if(n.getData("index")===t)return n}return null},e.prototype.onPlayerWin=function(){this.inactiveItem(),this.visiblePayout(!1)},e.prototype.resetAll=function(){this.inactiveItem(),this.visiblePayout(!0);for(var t=0;t<this.containerItem.length;t++){this.containerItem.getAt(t).reset()}},e.prototype.tweenPipeline=function(t){var e=this;this.tweenHighlight=this.rrScene.tweens.add({targets:t,outerStrength:2,innerStrength:1,duration:500,yoyo:!0,repeat:1,completeDelay:2e3,onComplete:function(t,n){t.remove(),e.tweenPipeline(n)}})},e.prototype.onResize=function(t,e,n){this.trickBug*=-1,this.widthBoard=t.width-107*e,this.bg.resize(this.widthBoard+this.trickBug,78*e),this.bgPayout.setScale(e),this.txtPayout.setFontSize(22*e),this.containerPayout.y=-(this.bg.height+this.bgPayout.displayHeight)/2;for(var i=this.containerItem.length,o=(this.widthBoard-i*n)/(i+1),r=this.containerItem.list,s=0;s<r.length;s++){this.containerItem.getAt(s).x=s*(n+o)}this.containerItem.setPosition(0);var a=this.containerItem.getBounds(),c=this.bg.getBounds();this.containerItem.setPosition(c.centerX-a.centerX,0)},e}(r);e.ItemBoard=p},8797:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoCashOut=void 0;var r=Phaser.GameObjects.Container,s=n(6492).AtlasName.AtlasRRMisc,a=n(5080),c=function(t){function e(e){var n=t.call(this,e)||this;return n.rrScene=e,n.bgWin=n.rrScene.add.image(0,0,s.name,s.Frame["bg-win"]),n.txtYouWin=n.rrScene.add.text(0,0,"You win",{fontFamily:"Montserrat-SemiBold",fontSize:24*a.DPR+"px",color:"#16161D",stroke:"#16161D",strokeThickness:2}),n.txtWin=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-SemiBold",fontSize:40*a.DPR+"px",color:"#16161D",stroke:"#16161D",strokeThickness:2}),n.background=null,n.txtWin.setOrigin(.5),n.txtYouWin.setOrigin(.5),n.txtYouWin.y=-40*a.DPR,n.rrScene.isMobile||(n.background=n.rrScene.add.image(0,0,s.name,s.Frame["bg-board"]),n.add(n.background)),n.add([n.bgWin,n.txtWin,n.txtYouWin]),n}return o(e,t),e.prototype.show=function(t){this.txtWin.setText(t+"")},e.prototype.onResize=function(){var t=1;return null!==this.background&&(t=this.rrScene.sizer.height/this.background.height,this.background.setScale(t)),this.bgWin.y=-75*t,this.bgWin.setScale(t),this.txtYouWin.setFontSize(56*t),this.txtWin.setFontSize(80*t),this.txtYouWin.y=this.bgWin.y-100*t,this.txtWin.y=this.bgWin.y,t},e}(r);e.CompoCashOut=c},4685:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoCharacter=e.EStatusCharacter=void 0;var r,s=n(6492).AtlasName.AtlasRRMisc;!function(t){t[t.NORMAL=0]="NORMAL",t[t.SAD=1]="SAD",t[t.HAPPY=2]="HAPPY"}(r=e.EStatusCharacter||(e.EStatusCharacter={}));var a=function(t){function e(e){var n=t.call(this,e,0,0,s.name,s.Frame["char-normal"])||this;return n.rrScene=e,n._timerHappy=null,n}return o(e,t),e.prototype.changeStatus=function(t,e){void 0===e&&(e=!0),t===r.SAD?this.setFrame(s.Frame["char-sad"]):t===r.HAPPY?(this.setFrame(s.Frame["char-happy"]),e&&(null!==this._timerHappy&&this.rrScene.time.removeEvent(this._timerHappy),this._timerHappy=this.rrScene.time.delayedCall(1e3,this._completeHappy,[],this))):this.setFrame(s.Frame["char-normal"])},e.prototype._completeHappy=function(){this._timerHappy=null,this.changeStatus(r.NORMAL)},e}(Phaser.GameObjects.Image);e.CompoCharacter=a},1951:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ChooseLevel=void 0;var r=Phaser.GameObjects.Container,s=n(5215),a=n(5080),c=n(6492).AtlasName.AtlasRRMisc,u=Phaser.Geom.Rectangle,h=Phaser.Input.Events.POINTER_DOWN,l=n(4237),p=Phaser.Math.Vector2,f=function(t){function e(e,n){var i=t.call(this,e)||this;i.rrScene=e,i.callbackChosen=n,i._boundTemp=new u,i.storePosition=new p,i.listItems=[];var o=new s.ItemLevel(i.rrScene);o.changeIconAndText(c.Frame["star-easy"],"EASY"),o.y=25*a.DPR,o.setData({id:l.ELevel.EASY});var r=new s.ItemLevel(i.rrScene);r.changeIconAndText(c.Frame["star-hard"],"HARD"),r.y=o.y+40*a.DPR,r.setData({id:l.ELevel.HARD});var h=new s.ItemLevel(i.rrScene);h.changeIconAndText(c.Frame["star-crazy"],"CRAZY"),h.y=r.y+40*a.DPR,h.setData({id:l.ELevel.CRAZY}),i.listItems.push(o,r,h),i.add(i.listItems);var f=i.getBounds(i._boundTemp),d=f.width+20*a.DPR,v=f.height+20*a.DPR,y=i.rrScene.add.graphics();return y.fillStyle(16777173).fillRoundedRect(0,0,d,v,8*a.DPR),y.setPosition(f.x-10*a.DPR,f.y-10*a.DPR),y.setInteractive({hitArea:new Phaser.Geom.Rectangle(0,0,d,v),hitAreaCallback:Phaser.Geom.Rectangle.Contains}),i.add(y),i.sendToBack(y),i.setInteract(o,d),i.setInteract(r,d),i.setInteract(h,d),i}return o(e,t),e.prototype.setAndStorePosition=function(t,e){this.storePosition.set(t,e),this.setPosition(t,e)},e.prototype.setInteract=function(t,e){var n=t.getBounds(this._boundTemp);t.setInteractive({useHandCursor:!0,hitArea:new Phaser.Geom.Rectangle(n.centerX-e/2,-n.height/2,e,n.height),hitAreaCallback:Phaser.Geom.Rectangle.Contains}),t.on(h,this.onClick.bind(this,t))},e.prototype.onClick=function(t){this.callbackChosen(t)},e.prototype.getItemByLevel=function(t){for(var e=0;e<this.listItems.length;e++)if(this.listItems[e].getData("id")===t)return this.listItems[e];return null},e.prototype.show=function(){this.setVisible(!0),this.setAlpha(0),this.rrScene.tweens.add({targets:this,y:this.storePosition.y+5*a.DPR,alpha:1,duration:400})},e.prototype.hide=function(){var t=this;this.rrScene.tweens.add({targets:this,y:this.storePosition.y-5*a.DPR,alpha:0,duration:300,onComplete:function(){return t.setVisible(!1)}})},e}(r);e.ChooseLevel=f},4237:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoLevel=e.EVENT_CHANGE_LEVEL=e.ELevelString=e.ELevel=void 0;var r,s=Phaser.GameObjects.Container,a=n(6492),c=a.AtlasName.AtlasRRMisc,u=n(5080),h=n(1951),l=Phaser.Input.Events.POINTER_DOWN,p=n(5215),f=Phaser.Geom.Rectangle,d=Phaser.Math.Vector2;!function(t){t[t.EASY=0]="EASY",t[t.HARD=1]="HARD",t[t.CRAZY=2]="CRAZY"}(r=e.ELevel||(e.ELevel={})),function(t){t.EASY="EASY",t.HARD="MEDIUM",t.CRAZY="HARD"}(e.ELevelString||(e.ELevelString={})),e.EVENT_CHANGE_LEVEL="changeLevel";var v=function(t){function n(e){var n=t.call(this,e)||this;n.rrScene=e,n.background=n.rrScene.add.image(0,0,c.name,c.Frame["bg-level"]),n.chooseLevel=new h.ChooseLevel(n.rrScene,n.onChosenLevel.bind(n)),n.itemChosen=new p.ItemLevel(n.rrScene),n.zone=n.rrScene.make.zone({x:0,y:0,width:n.rrScene.sizer.width,height:n.rrScene.sizer.height}),n.level=r.EASY,n._storePosition=new d,n._tempBounds=new f,n.add(n.background),n.add(n.itemChosen),n.add(n.chooseLevel),n.background.setOrigin(.5,0),n.itemChosen.changeIconAndText(c.Frame["star-easy"],"EASY"),n.updatePosItemChosen();var i=n.chooseLevel.getBounds(n._tempBounds);return n.chooseLevel.setAndStorePosition(-i.centerX,-5*u.DPR),n.chooseLevel.setVisible(!1),n.background.setInteractive({useHandCursor:!0}).on(l,n.onShowChooseLevel,n),n.zone.setOrigin(0),n.zone.setInteractive({useHandCursor:!1}).on(l,n.onHideChooseLevel,n),n.zone.setVisible(!1),n}return o(n,t),n.prototype.getLevel=function(){return this.level},n.prototype.getBgBounds=function(){return this.background.getBounds(this._tempBounds)},n.prototype.firstChangeLevel=function(){this.changeLevel(this.level,void 0,!0)},n.prototype.storePosition=function(){this._storePosition.set(this.x,this.y)},n.prototype.restorePosition=function(){this.copyPosition(this._storePosition)},n.prototype.onConnected=function(t){var e=this.chooseLevel.getItemByLevel(t);null!==e&&this.changeLevel(t,e,!0)},n.prototype.onChosenLevel=function(t){this.onHideChooseLevel(),this.changeLevel(t.getData("id"),t)},n.prototype.changeLevel=function(t,n,i){void 0===i&&(i=!1),(t!==this.level||i)&&(this.level=t,n&&(this.itemChosen.changeIconAndText(n.getFrame(),n.getText()),this.updatePosItemChosen()),this.emit(e.EVENT_CHANGE_LEVEL,this.level))},n.prototype.updatePosItemChosen=function(){this.itemChosen.setPosition(0);var t=this.itemChosen.getBounds(),e=this.getBgBounds();this.itemChosen.setPosition(e.centerX-t.centerX,this.background.height/2)},n.prototype.onShowChooseLevel=function(){this.rrScene.soundManager.play(a.SoundName.chooseClick),this.exists(this.zone)||(this.add(this.zone),this.swap(this.zone,this.chooseLevel));var t=this.getBgBounds();this.zone.setPosition(-t.centerX*this.zone.scaleX,-t.centerY/this.zone.scaleY),this.zone.setVisible(!0),this.chooseLevel.show()},n.prototype.onHideChooseLevel=function(){this.zone.setVisible(!1),this.chooseLevel.hide()},n.prototype.onPlayerBetting=function(){this.background.disableInteractive()},n.prototype.resetAll=function(){this.background.setInteractive()},n.prototype.onResize=function(t){this.setScale(t),this.zone.setScale(1/t)},n}(s);e.CompoLevel=v},5215:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ItemLevel=void 0;var r=Phaser.GameObjects.Container,s=n(6492).AtlasName.AtlasRRMisc,a=n(5080),c=function(t){function e(e){var n=t.call(this,e)||this;return n.rrScene=e,n.icon=n.rrScene.add.image(0,0,s.name,s.Frame["star-easy"]),n.txt=n.rrScene.add.text(0,0,"",{fontFamily:"Montserrat-Regular",fontSize:n.rrScene.isMobile?14*a.DPR+"px":"20px",color:"#0F2743"}),n.txt.setOrigin(0,.5),n.txt.x=5*a.DPR,n.icon.setOrigin(1,.5),n.icon.x=-5*a.DPR,n.add([n.icon,n.txt]),n}return o(e,t),e.prototype.changeIconAndText=function(t,e){this.icon.setFrame(t),this.txt.setText(e)},e.prototype.getFrame=function(){return this.icon.frame.name},e.prototype.getText=function(){return this.txt.text},e}(r);e.ItemLevel=c},2380:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var i=n(8356);e.Config=Object.assign(i.Config,{PATH_ASSETS:"road-riches/",BASE_API_URL:"https://funasia-game-road-beta.azurewebsites.net:443/",FEE:.97,MENU:{toggleMode:!1,sound:!0,music:!0}})},8907:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RRData=void 0,e.RRData={walletId:"",configsLevel:[],settingJoin:{crazy:{maxbet:""},hard:{maxbet:""},easy:{maxbet:""}},gameId:"",continueGame:!1,dataBet:null,resultMines:[]}},65:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EffectCashOut=void 0;var r,s=Phaser.GameObjects.Particles.Particle,a=Phaser.GameObjects.Particles.ParticleEmitter,c=n(5080),u=Phaser.Geom.Rectangle,h=n(6492),l=function(t){function e(e){var n=t.call(this,e)||this;return n.t=0,n.i=Phaser.Math.RND.integerInRange(0,5),n}return o(e,t),e.prototype.update=function(e,n,i){var o=t.prototype.update.call(this,e,n,i);return this.t+=e,this.t>=r.msPerFrame&&(this.i++,this.i>5&&(this.i=0),this.frame=r.frames[this.i].frame,this.t-=r.msPerFrame),o},e}(s),p=function(){function t(t){var e=this;this.rrScene=t,this.maxParticle=1,this.particle=this.rrScene.add.particles("core/AtlasCoinsAnimate"),this.particleEmitter=new a(this.particle,{emitZone:{type:"random",source:new u(0,-100*c.DPR,this.rrScene.sizer.width,100*c.DPR),quantity:0},gravityY:700,speedY:{min:100,max:300},scale:{start:.8,end:1},lifespan:3e3,rotate:{min:0,max:360},particleBringToTop:!1,particleClass:l}),r=this.rrScene.anims.create({key:"coin-animated",frames:this.rrScene.anims.generateFrameNames("core/AtlasCoinsAnimate",{prefix:"coin-",end:5,zeroPad:0}),frameRate:15}),this.particle.setDepth(9999),this.particle.addEmitter(this.particleEmitter),this.particle.setPosition(0,-10*c.DPR),this.particleEmitter.onParticleEmit((function(){var t=e.particleEmitter.getAliveParticleCount();t%2==0&&e.rrScene.soundManager.play(h.SoundName.coin,{multiInstance:!0,volume:.2}),t>=e.maxParticle&&e.stop()}))}return t.prototype.start=function(t){var e=Phaser.Math.Percent(t,.1,20);this.maxParticle=100*e;for(var n=0;n<this.particle.emitters.length;n++)this.particle.emitters.getAt(n).start()},t.prototype.stop=function(){for(var t=0;t<this.particle.emitters.length;t++)this.particle.emitters.getAt(t).stop()},t}();e.EffectCashOut=p},6055:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoneyFlying=void 0;var r=n(6492),s=n(9611),a=Phaser.GameObjects.Container,c=Phaser.Geom.Rectangle,u=function(t){function e(e){var n=t.call(this,e)||this;n.rrScene=e,n.windyParticle=n.rrScene.add.particles(r.AtlasName.AtlasRRMisc.name),n.listMoneysIdle=[],n.listMoneysBusy=[],n._boundTemp=new c,n.windyParticle.createEmitter({frame:r.AtlasName.AtlasRRMisc.Frame.windy,x:n.rrScene.sizer.width,y:{min:0,max:n.rrScene.sizer.height},lifespan:{min:2e3,max:5e3},speedX:{min:-1e3,max:-2e3},alpha:{start:.2*Math.random()+.2,end:0},scaleX:{min:1,max:5},scaleY:{min:.5,max:1},quantity:1,frequency:200,blendMode:"ADD"}),n.add(n.windyParticle);for(var i=0;i<=7;i++){var o="money-"+i,s=e.make.image({key:r.AtlasName.AtlasRRMisc.name,frame:o},!1);s.setOrigin(1.1,.5),n.listMoneysIdle.push(s)}return n}return o(e,t),e.prototype.start=function(){this._startGenerate()},e.prototype.flying=function(){var t=this,e=s.NumberUtils.getRandomIntInclusive(0,this.listMoneysIdle.length-1),n=this.listMoneysIdle[e];if(n){this.add(n),Phaser.Utils.Array.RemoveAt(this.listMoneysIdle,e),this.listMoneysBusy.push(n);var i=n.getBounds(this._boundTemp);n.x=this.rrScene.sizer.width+i.width*n.originX,n.y=s.NumberUtils.getRandomInt(i.height*n.originY,this.rrScene.sizer.height-i.height*n.originY),this.rrScene.add.tween({targets:n,duration:s.NumberUtils.getRandomArbitrary(1500,3e3),x:-i.width*n.originX,onComplete:function(){t.rrScene.tweens.killTweensOf(n),t.remove(n),t.listMoneysIdle.push(n),Phaser.Utils.Array.Remove(t.listMoneysBusy,n)}}),this.rrScene.add.tween({targets:n,duration:3e3,rotation:2*Math.PI,repeat:-1})}},e.prototype._startGenerate=function(){var t=this;this.rrScene.time.delayedCall(s.NumberUtils.getRandomArbitrary(0,3e3),(function(){t.flying(),t._startGenerate()}))},e}(a);e.MoneyFlying=u},1667:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShiningLight=void 0;var r=Phaser.GameObjects.Container,s=n(5080),a=n(6492).AtlasName.AtlasRRMisc,c=function(t){function e(e){var n=t.call(this,e)||this;return n.rrScene=e,n.listPositionsMobile=[{x:3,y:26},{x:104,y:15},{x:326,y:15},{x:426,y:26}],n.listPositions=[{x:39,y:25},{x:135,y:14},{x:-9999,y:-9999},{x:348,y:14},{x:444,y:25},{x:466,y:98},{x:470,y:179},{x:474,y:260},{x:474,y:341},{x:474,y:422},{x:471,y:503},{x:467,y:583},{x:443,y:656},{x:347,y:664},{x:237,y:666},{x:135,y:664},{x:38,y:656},{x:16,y:583},{x:12,y:503},{x:9,y:422},{x:8,y:341},{x:8,y:260},{x:13,y:180},{x:17,y:98}],n.listLights=[],n.backgroundSize=null,n._lastResult=0,n}return o(e,t),e.prototype.initForDesktop=function(t){this.backgroundSize=t;for(var e=0,n=this.listPositions.length;e<n;e++){var i=this.rrScene.add.image(0,0,a.name,a.Frame["shining-light"]);i.alpha=0,this.add(i),this.listLights.push(i)}},e.prototype.initForMobile=function(t,e){for(var n=0;n<this.listPositionsMobile.length;n++){var i=this.listPositionsMobile[n],o=this.rrScene.add.image(i.x*s.DPR*e,i.y*s.DPR*e+t,a.name,a.Frame["shining-light"]);o.alpha=0,this.add(o),this.listLights.push(o)}},e.prototype.playEffects=function(){var t;do{t=Phaser.Math.RND.integerInRange(1,4)}while(t===this._lastResult);this._lastResult=t,1===t?this.effect1():2===t?this.effect2():3===t?this.effect3():this.effect4()},e.prototype.stopEffect=function(){this.rrScene.tweens.killTweensOf(this.listLights);for(var t=0,e=this.listLights.length;t<e;t++){this.listLights[t].alpha=0}},e.prototype.effect1=function(){var t=this;this.rrScene.tweens.add({targets:this.listLights,alpha:1,duration:200,hold:200,yoyo:!0,repeat:2,repeatDelay:100*this.listLights.length-600,delay:this.rrScene.tweens.stagger(100,{}),onComplete:function(){return t.playEffects()}})},e.prototype.effect2=function(){for(var t=this,e=[],n=[],i=0,o=this.listLights.length;i<o;i++)i%2==0?e.push(this.listLights[i]):n.push(this.listLights[i]);var r={alpha:1,duration:200,hold:2e3,yoyo:!0,repeat:3,repeatDelay:2e3};this.rrScene.tweens.add(Object.assign({targets:e},r)),this.rrScene.tweens.add(Object.assign({targets:n,delay:2200,onComplete:function(){return t.playEffects()}},r))},e.prototype.effect3=function(){var t=this;this.rrScene.tweens.add({targets:this.listLights,alpha:1,duration:100,hold:100,yoyo:!0,repeat:4,repeatDelay:50*this.listLights.length-300,delay:this.rrScene.tweens.stagger(50,{}),onComplete:function(){return t.playEffects()}})},e.prototype.effect4=function(){var t=this;this.rrScene.tweens.add({targets:this.listLights,alpha:1,duration:200,hold:500,yoyo:!0,delay:this.rrScene.tweens.stagger(600,{}),onComplete:function(){return t.playEffects()}})},e.prototype.onResize=function(t,e){if(null!==this.backgroundSize)for(var n=this.backgroundSize.x/2,i=this.backgroundSize.y/2,o=0,r=this.listLights.length;o<r;o++){var s=this.listLights[o],a=this.listPositions[o];s.setPosition(e.x+(a.x/.714-n)*t,e.y+(a.y/.714-i)*t)}},e}(r);e.ShiningLight=c},1568:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RoadRichesScene=void 0;var r=n(2380),s=n(6492),a=n(2149),c=n(6285),u=n(6871),h=n(6517),l=n(5080),p=n(1221),f=n(1408),d=n(4237),v=n(554),y=n(8797),m=n(483),g=n(65),b=n(680),_=n(8907),E=n(4685),w=Phaser.Geom.Point,S=Phaser.Geom.Rectangle,k=n(1667),O=n(9185),P=n(9323),C=n(490),T=n(6055),R=function(t){function e(){var n=t.call(this,{key:e.SCENE_NAME})||this;return n.soundManager=new h.SoundManager(n),n.compoMenu=null,n.buttonHelp=null,n.background=null,n.compoBet=null,n.compoLevel=null,n.compoBoard=null,n.compoCharacter=null,n.backgroundWin=null,n.compoCashOut=null,n.buttonContinue=null,n.effectCashOut=null,n.shiningLight=null,n.moneyFlying=null,n.containerPlaying=null,n.containerCashOut=null,n.socketController=null,n.receiveController=new O.ReceiveController(n),n._refreshTokenBinded=n.refreshToken.bind(n),n._updateWalletIdBinded=n.updateWalletId.bind(n),n}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.preload=function(){this.load.setPath(r.Config.PATH_ASSETS),this.loadAssets(s.AssetsManifest)},e.prototype.initGame=function(){var t=this;if(this.enabledInput(!1),this.isMobile){this.forceResize();var e=this.add.graphics({});e.fillStyle(1059409),e.fillRect(0,0,this.sizer.width,this.sizer.height),e.removeFromUpdateList()}else this.moneyFlying=new T.MoneyFlying(this),this.moneyFlying.start();this.playBackgroundSound(),this.background=this.add.image(0,0,"background"),this.background.setOrigin(0),this.background.setPosition(0,50*l.DPR),null!==this.moneyFlying&&this.add.existing(this.moneyFlying),this.compoMenu=new u.CompoMenu(this),this.isMobile?(this.compoMenu.changeBoardStyle(u.BOARD_STYLES.ONE),this.compoMenu.changeDirection(u.DIRECTION.HORIZONTAL)):(this.compoMenu.changeBoardStyle(u.BOARD_STYLES.ZERO),this.compoMenu.changeDirection(u.DIRECTION.VERTICAL)),this.add.existing(this.compoMenu),this.compoMenu.on(u.THEME_EVENT.MUSIC,(function(e){e?t.playBackgroundSound():t.stopBackgroundSound()}),this),null!==this.compoMenu.background&&this.compoMenu.background.setVisible(!0),this.isMobile&&(this.buttonHelp=new b.ButtonHelp(this),this.buttonHelp.setPosition(this.sizer.width-16*l.DPR-this.buttonHelp.width/2,this.compoMenu.y+this.compoMenu.background.height/2),this.add.existing(this.buttonHelp)),this.containerPlaying=this.add.container(),this.add.existing(this.containerPlaying),this.compoLevel=new d.CompoLevel(this),this.compoLevel.setPosition(this.sizer.width/2,this.background.y-18*l.DPR),this.compoLevel.storePosition(),this.compoLevel.on(d.EVENT_CHANGE_LEVEL,this.onChangeLevel,this),this.compoBet=new f.CompoBet(this),this.compoBet.setPosition(this.sizer.width/2,this.sizer.height-this.compoBet.getBounds().height/2-10*l.DPR),this.compoBet.on(f.EVENT_CHANGE_BET,this.onChangeBet,this),this.compoBoard=new v.CompoBoard(this),this.isMobile&&this.compoBoard.addScroller(this.compoLevel.getBgBounds(),this.compoBet.getBounds()),this.containerPlaying.add(this.compoBoard),this.containerPlaying.add(this.compoLevel),this.containerPlaying.add(this.compoBet),this.shiningLight=new k.ShiningLight(this),this.shiningLight.setDepth(98),this.add.existing(this.shiningLight),this.isMobile||(this.compoCharacter=new E.CompoCharacter(this),this.compoCharacter.setDepth(100),this.add.existing(this.compoCharacter)),this.compoLevel.firstChangeLevel(),this.events.once(c.EVENT_CORE.DEVICE_DESKTOP,this.runOnDesktop,this),this.events.once(c.EVENT_CORE.DEVICE_MOBILE,this.runOnMobile,this),this.runOnDevice(),window.addEventListener("update-wallet",this._updateWalletIdBinded),this.connectToServer(""),C.Utils.dispatchCustomEvent("ready-game",{detail:this})},e.prototype.refreshToken=function(t){this.connectToServer(t.detail)},e.prototype.updateWalletId=function(t){_.RRData.walletId=t.detail},e.prototype.connectToServer=function(t){window.customSocketRoad?this.receiveController.updateSocket(window.customSocketRoad):(null===this.socketController?this.socketController=new P.SocketController(this.receiveController):this.socketController.closeSocket(r.Config.BASE_API_URL),this.socketController.initSocket(r.Config.BASE_API_URL,t))},e.prototype.onJoinedGame=function(t){if(this.game.events.emit(c.EVENT_CORE.CONNECTED_SERVER),t.history){C.Utils.dispatchCustomEvent("rr-history",{detail:t.history}),this.enabledInput(!0),_.RRData.configsLevel=t.configs,_.RRData.settingJoin=t.setting;var e=t.ongoingGame;if(e&&!e.isEnded){_.RRData.dataBet=e,_.RRData.gameId=e.id;var n=+e.betAmount;this.onConnected(e,n)}else null!==this.compoLevel&&this.compoLevel.firstChangeLevel(),null!==this.compoBet&&this.compoBet.onJoin();C.Utils.dispatchCustomEvent("rr-ongoing",{detail:Boolean(e)})}},e.prototype.playBackgroundSound=function(){this.soundManager.play(s.SoundName.background,{loop:!0,volume:.2})},e.prototype.stopBackgroundSound=function(){this.soundManager.stop(s.SoundName.background)},e.prototype.onChangeLevel=function(t){var e=1;null!==this.compoBet&&(this.compoBet.onChangeLevel(t),e=this.compoBet.getBetAmount()),null!==this.compoBoard&&this.compoBoard.onChangeLevel(t,e)},e.prototype.onChangeBet=function(t){null!==this.compoBoard&&this.compoBoard.onChangeBetAmount(t)},e.prototype.enabledInput=function(t){void 0===t&&(t=!0),this.input.enabled=t},e.prototype.requestBet=function(t){var e=this;this.enabledInput(!1);var n=0;null!==this.compoLevel&&(n=this.compoLevel.getLevel()),this.receiveController.bet(n,t,(function(t){_.RRData.dataBet=t,_.RRData.gameId=t.id,C.Utils.dispatchCustomEvent("rr-bet",{detail:+t.betAmount}),e.onPlayerBetting(+t.betAmount),e.enabledInput(!0),null!==e.shiningLight&&e.shiningLight.playEffects()}))},e.prototype.requestNext=function(t){var e=this;this.enabledInput(!1),this.receiveController.next(_.RRData.gameId,t,(function(n){_.RRData.dataBet=n.game,_.RRData.resultMines=n.result;var i=!n.game.isEnded,o=+n.game.payout;null!==e.compoBoard&&e.compoBoard.openItem(t,i,o,(function(){i?e.onPlayerWin(o):e.onPlayerLose(t)}))}))},e.prototype.requestCashOut=function(t){var e=this;this.enabledInput(!1),this.receiveController.cashOut(_.RRData.gameId,(function(n){_.RRData.resultMines=n.result,null!==e.compoBoard&&e.compoBoard.openAllItems(n.result),e.time.delayedCall(2e3,e.onPlayerCashOut,[t],e),C.Utils.dispatchCustomEvent("rr-payout",{detail:t}),C.Utils.dispatchCustomEvent("rr-history",{detail:_.RRData.dataBet})}))},e.prototype.onConnected=function(t,e){null!==this.compoBet&&this.compoBet.onConnected(e),null!==this.compoLevel&&this.compoLevel.onConnected(t.level),null!==this.compoBoard&&this.compoBoard.onConnected(t.rounds,e),null!==this.shiningLight&&this.shiningLight.playEffects();var n=+t.payout;n<=0&&(n=+t.betAmount),this.onPlayerBetting(n),t.rounds.length>0&&null!==this.compoBet&&this.compoBet.enabledBtnCashOut(!0)},e.prototype.onResponseError=function(t){this.enabledInput(!0)},e.prototype.onStart=function(){this.enabledInput(),null!==this.shiningLight&&this.shiningLight.stopEffect(),null!==this.containerPlaying&&(this.containerPlaying.setVisible(!0),null!==this.compoLevel&&(this.containerPlaying.add(this.compoLevel),this.compoLevel.restorePosition())),null!==this.background&&this.background.setVisible(!0),null!==this.containerCashOut&&this.containerCashOut.setVisible(!1),null!==this.backgroundWin&&this.backgroundWin.setVisible(!1),null!==this.compoCharacter&&this.compoCharacter.changeStatus(E.EStatusCharacter.NORMAL),this.resetAll()},e.prototype.onPlayerBetting=function(t){null!==this.compoBoard&&this.compoBoard.onPlayerBetting(),null!==this.compoBet&&this.compoBet.onPlayerBetting(t),null!==this.compoLevel&&this.compoLevel.onPlayerBetting()},e.prototype.onPlayerWin=function(t){this.enabledInput(!0),this.soundManager.play(s.SoundName.winRound),null!==this.compoBoard&&this.compoBoard.onPlayerWin(),null!==this.compoBet&&this.compoBet.updatePayout(t),null!==this.compoCharacter&&this.compoCharacter.changeStatus(E.EStatusCharacter.HAPPY)},e.prototype.onPlayerLose=function(t){C.Utils.dispatchCustomEvent("rr-history",{detail:_.RRData.dataBet}),this.enabledInput(!1),null!==this.compoBoard&&(this.compoBoard.onPlayerLose(t),this.time.delayedCall(500,this.compoBoard.openAllItems,[_.RRData.resultMines],this.compoBoard)),null!==this.compoCharacter&&this.compoCharacter.changeStatus(E.EStatusCharacter.SAD),this.time.delayedCall(3e3,this.onStart,void 0,this)},e.prototype.onPlayerCashOut=function(t){this.enabledInput(!0),null!==this.containerPlaying&&this.containerPlaying.setVisible(!1),null!==this.background&&this.isMobile&&this.background.setVisible(!1),null===this.backgroundWin&&(this.backgroundWin=this.add.image(0,0,"background-win"),this.backgroundWin.setOrigin(.5,0),this._scaleBackground(this.backgroundWin),this.isMobile?this.backgroundWin.setPosition(this.sizer.width/2,0):(this.backgroundWin.setOrigin(.5,1),this._scaleBackground(this.backgroundWin),this.backgroundWin.setPosition(this.sizer.width/2,this.sizer.height),this.backgroundWin.setDepth(99))),this.backgroundWin.setVisible(!0),null===this.containerCashOut&&(this.containerCashOut=this.add.container(),this.add.existing(this.containerCashOut)),this.containerCashOut.setVisible(!0);var e=1;if(null===this.compoCashOut&&(this.compoCashOut=new y.CompoCashOut(this),this.containerCashOut.add(this.compoCashOut),this.isMobile?this.compoCashOut.setPosition(this.backgroundWin.x,this.backgroundWin.displayHeight/2):(this.compoCashOut.setPosition(this.sizer.width/2,this.sizer.height/2),e=this.compoCashOut.onResize())),this.compoCashOut.show(t),null===this.buttonContinue&&(this.buttonContinue=new m.ButtonContinue(this),this.containerCashOut.add(this.buttonContinue),this.buttonContinue.onResize(e),this.isMobile?this.buttonContinue.setPosition(this.sizer.width/2,this.backgroundWin.displayHeight+16*l.DPR+this.buttonContinue.getBounds().height/2):this.buttonContinue.setPosition(this.sizer.width/2,this.sizer.height-160*e)),null!==this.compoLevel){this.containerCashOut.add(this.compoLevel);var n=this.compoCashOut.getBounds();this.isMobile?this.compoLevel.setPosition(n.centerX,n.centerY+25*l.DPR):this.compoLevel.setPosition(n.centerX,n.centerY+10*e)}null===this.effectCashOut&&(this.effectCashOut=new g.EffectCashOut(this)),this.effectCashOut.start(t),null!==this.compoCharacter&&this.compoCharacter.changeStatus(E.EStatusCharacter.HAPPY,!1)},e.prototype.resetAll=function(){null!==this.compoBoard&&this.compoBoard.resetAll(),null!==this.compoBet&&this.compoBet.resetAll(),null!==this.compoLevel&&this.compoLevel.resetAll()},e.prototype._scaleBackground=function(t){var e=1;return null!==t&&(e=this.sizer.width/t.width,t.setScale(e)),e},e.prototype.destroy=function(){t.prototype.destroy.call(this),window.removeEventListener("refresh-token",this._refreshTokenBinded),window.removeEventListener("update-wallet",this._updateWalletIdBinded),null!==this.socketController&&this.socketController.closeAllSocket(),this.receiveController.destroy()},e.prototype.runOnDesktop=function(){if(null!==this.background&&(this.background.setOrigin(.5),this.background.setPosition(this.sizer.width/2,this.sizer.height/2)),null!==this.compoMenu){var t=this.compoMenu.getBounds();Phaser.Display.Align.To.TopLeft(this.compoMenu,this.sizer,-t.width/2-20,-20)}if(null!==this.compoBoard){Phaser.Display.Align.In.Center(this.compoBoard,this.sizer);var e=this.compoBoard.resizeBackground(),n=new S,i=new S;null!==this.compoLevel&&(this.compoLevel.y=0,this.compoLevel.onResize(e),this.compoLevel.storePosition(),n=this.compoLevel.getBgBounds());var o=this.compoBoard.getBgSize();null!==this.compoBet&&(this.compoBet.setPosition(this.sizer.width/2,(o.y-100)*e),this.compoBet.onResize(o.x,e),i=this.compoBet.getBounds()),null!==this.shiningLight&&(this.shiningLight.initForDesktop(o),this.shiningLight.onResize(e,new w(this.sizer.width/2,this.sizer.height/2))),null!==this.compoCharacter&&(this.compoCharacter.setScale(e),this.compoCharacter.setPosition(this.sizer.width/2-(o.x/2+58)*e,this.sizer.height/2)),this.compoBoard.onResize(n,i,e)}null!==this.compoCashOut&&this.compoCashOut.onResize()},e.prototype.runOnMobile=function(){null!==this.compoMenu&&this.compoMenu.addUIWidget(this.sizer,p.HORIZONTAL_MODE.LEFT,20*l.DPR,p.VERTICAL_MODE.TOP,0);var t=this._scaleBackground(this.background);null!==this.shiningLight&&null!==this.background&&(this.shiningLight.setDepth(10),this.shiningLight.initForMobile(this.background.y,t),this.shiningLight.playEffects())},e.SCENE_NAME="sceneRoadRiches",e}(a.GeneralScene);e.RoadRichesScene=R},9185:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReceiveController=void 0;var r,s=n(8907),a=n(9284);!function(t){t.JOIN="join",t.BET="bet",t.NEXT="next",t.CASHED_OUT="cashout"}(r||(r={}));var c=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.updateSocket=function(e){t.prototype.updateSocket.call(this,e),e.on("connect",this.onConnected.bind(this)),e.on("disconnect",this.onClosed.bind(this)),e.on("error",this.onError.bind(this)),e.connected&&this.onConnected()},e.prototype.onConnected=function(){var e=this;t.prototype.onConnected.call(this),null!==this.socket&&this.socket.emit(r.JOIN,(function(t){console.log(t),e.scene.onJoinedGame(t)}))},e.prototype.bet=function(t,e,n){null!==this.socket&&this.socket.emit(r.BET,t,e,s.RRData.walletId,(function(t){n(t.game)}))},e.prototype.next=function(t,e,n){null!==this.socket&&this.socket.emit(r.NEXT,t,e,(function(t){n(t)}))},e.prototype.cashOut=function(t,e){null!==this.socket&&this.socket.emit(r.CASHED_OUT,t,s.RRData.walletId,(function(t){e(t)}))},e.prototype.onResponseError=function(t){this.scene.onResponseError(t)},e}(a.AbstractReceiveController);e.ReceiveController=c},5933:(t,e,n)=>{var i;!function(){function o(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function s(t,e,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function c(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var u=!!window.FontFace;function h(t,e,n,i){if(e=t.c.createElement(e),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){r=!0;break}r||i.push(e[o])}for(e=[],o=0;o<i.length;o+=1){for(r=!1,s=0;s<n.length;s+=1)if(i[o]===n[s]){r=!0;break}r||e.push(i[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var n=t.className.split(/\s+/),i=0,o=n.length;i<o;i++)if(n[i]==e)return!0;return!1}function v(t,e,n){function i(){a&&o&&r&&(a(s),a=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var o=!1,r=!0,s=null,a=n||null;u?(e.onload=function(){o=!0,i()},e.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),i()}):setTimeout((function(){o=!0,i()}),0),l(t,"head",e)}function y(t,e,n,i){var o=t.c.getElementsByTagName("head")[0];if(o){var r=h(t,"script",{src:e}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),i||5e3),r}return null}function m(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,_(t)}}function b(t,e){t.c=e,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function E(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function S(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function k(t){return t.a+t.f}function O(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function P(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function C(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new E("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function T(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}R(t,"inactive")}function R(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,k(n)):t.h[e]())}function x(){this.c={}}function A(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function B(t){l(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(t.c)+";font-style:"+O(t)+";font-weight:"+t.f+"00;"}function L(t,e,n,i,o,r){this.g=t,this.j=e,this.a=i,this.c=n,this.f=o||3e3,this.h=r||void 0}function I(t,e,n,i,o,r,s){this.v=t,this.B=e,this.c=n,this.a=i,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=M(t=new w(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=M(t=new w(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=M(t=new w("serif",k(this.a))),this.j.a.style.cssText=t,t=M(t=new w("sans-serif",k(this.a))),this.m.a.style.cssText=t,B(this.g),B(this.h),B(this.j),B(this.m)}E.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise((function(i,o){!function r(){a()-n>=e.f?o():t.fonts.load(function(t){return O(t)+" "+t.f+"00 300px "+S(t.c)}(e.a),e.h).then((function(t){1<=t.length?i():setTimeout(r,25)}),(function(){o()}))}()})),o=null,r=new Promise((function(t,n){o=setTimeout(n,e.f)}));Promise.race([r,i]).then((function(){o&&(clearTimeout(o),o=null),e.g(e.a)}),(function(){e.j(e.a)}))};var D={D:"serif",C:"sans-serif"},N=null;function j(){if(null===N){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return N}function G(t,e,n){for(var i in D)if(D.hasOwnProperty(i)&&e===t.f[D[i]]&&n===t.f[D[i]])return!0;return!1}function F(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=j()&&G(t,n,i)),e?a()-t.A>=t.w?j()&&G(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?z(t,t.v):z(t,t.B):function(t){setTimeout(s((function(){F(this)}),t),50)}(t):z(t,t.v)}function z(t,e){setTimeout(s((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),e(this.a)}),t),0)}function V(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),F(this)};var H=null;function U(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),R(t,"active")):T(t.a))}function W(t){this.j=t,this.a=new x,this.h=0,this.f=this.g=!0}function Y(t,e,n,i,o){var r=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,a=i||{};if(0===n.length&&r)T(e.a);else{e.f+=n.length,r&&(e.j=r);var c,u=[];for(c=0;c<n.length;c++){var h=n[c],l=a[h.c],p=e.a,d=h;if(p.g&&f(p.f,[p.a.c("wf",d.c,k(d).toString(),"loading")]),R(p,"fontloading",d),p=null,null===H)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);H=d?42<parseInt(d[1],10):!v}else H=!1;p=H?new L(s(e.g,e),s(e.h,e),e.c,h,e.s,l):new I(s(e.g,e),s(e.h,e),e.c,h,e.s,t,l),u.push(p)}for(c=0;c<u.length;c++)u[c].start()}}),0)}function q(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}function K(t,e){this.c=t||J,this.a=[],this.f=[],this.g=e||""}V.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,k(t).toString(),"active")],[e.a.c("wf",t.c,k(t).toString(),"loading"),e.a.c("wf",t.c,k(t).toString(),"inactive")]),R(e,"fontactive",t),this.m=!0,U(this)},V.prototype.h=function(t){var e=this.a;if(e.g){var n=d(e.f,e.a.c("wf",t.c,k(t).toString(),"active")),i=[],o=[e.a.c("wf",t.c,k(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,k(t).toString(),"inactive")),f(e.f,i,o)}R(e,"fontinactive",t),U(this)},W.prototype.load=function(t){this.c=new c(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],o=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),R(t,"loading")}(e);i=function(t,e,n){var i,o=[];for(i in e)if(e.hasOwnProperty(i)){var r=t.c[i];r&&o.push(r(e[i],n))}return o}(t.a,n,t.c);var r=new V(t.c,e,o);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load((function(e,n,i){Y(t,r,e,n,i)}))}(this,new C(this.c,t),t)},q.prototype.load=function(t){function e(){if(r["__mti_fntLst"+i]){var n,o=r["__mti_fntLst"+i](),s=[];if(o)for(var a=0;a<o.length;a++){var c=o[a].fontfamily;null!=o[a].fontStyle&&null!=o[a].fontWeight?(n=o[a].fontStyle+o[a].fontWeight,s.push(new w(c,n))):s.push(new w(c))}t(s)}else setTimeout((function(){e()}),50)}var n=this,i=n.a.projectId,o=n.a.version;if(i){var r=n.c.o;y(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(o?"?v="+o:""),(function(o){o?t([]):(r["__MonotypeConfiguration__"+i]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+i}else t([])},X.prototype.load=function(t){var e,n,i=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new m;for(e=0,n=i.length;e<n;e++)v(this.c,i[e],g(s));var a=[];for(e=0,n=o.length;e<n;e++)if((i=o[e].split(":"))[1])for(var c=i[1].split(","),u=0;u<c.length;u+=1)a.push(new w(i[0],c[u]));else a.push(new w(i[0]));b(s,(function(){t(a,r)}))};var J="https://fonts.googleapis.com/css";function Z(t){this.f=t,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var it={Arimo:!0,Cousine:!0,Tinos:!0};function ot(t,e){this.c=t,this.a=e}function rt(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new m,n=this.c,i=new K(this.a.api,this.a.text),o=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var o=e[i].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(i,o);var r=new Z(o);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),o=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var h;if((h=a[u]).match(/^[\w-]+$/))if(null==(l=et.exec(h.toLowerCase())))h="";else{if(h=null==(h=l[2])||""==h?"n":tt[h],null==(l=l[1])||""==l)l="4";else var l=$[l]||(isNaN(l)?"4":l.substr(0,1));h=[h,l].join("")}else h="";h&&s.push(h)}0<s.length&&(r=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=Q[i[0]])&&(t.c[o]=i))}for(t.c[o]||(i=Q[o])&&(t.c[o]=i),i=0;i<r.length;i+=1)t.a.push(new w(o,r[i]))}}(r),v(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),g(e)),b(e,(function(){t(r.a,r.c,it)}))},ot.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],o=0;o<e.length;o+=2)for(var r=e[o],s=e[o+1],a=0;a<s.length;a++)i.push(new w(r,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])},rt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var o=0,r=n.fonts.length;o<r;++o){var s=n.fonts[o];i.a.push(new w(s.name,P("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var st=new W(window);st.a.c.custom=function(t,e){return new X(e,t)},st.a.c.fontdeck=function(t,e){return new rt(e,t)},st.a.c.monotype=function(t,e){return new q(e,t)},st.a.c.typekit=function(t,e){return new ot(e,t)},st.a.c.google=function(t,e){return new nt(e,t)};var at={load:s(st.load,st)};void 0===(i=function(){return at}.call(e,n,e,t))||(t.exports=i)}()},3355:(t,e,n)=>{"use strict";n.r(e),n.d(e,{clearInterval:()=>s,clearTimeout:()=>a,setInterval:()=>c,setTimeout:()=>u});var i=n(6650);let o=null;const r=((t,e)=>()=>{if(null!==o)return o;const n=new Blob([e],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(n);return o=t(i),o.setTimeout((()=>URL.revokeObjectURL(i)),0),o})((t=>{const e=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),o=new Map,r=new Worker(t);r.addEventListener("message",(({data:t})=>{if(void 0!==(i=t).method&&"call"===i.method){const{params:{timerId:i,timerType:r}}=t;if("interval"===r){const t=e.get(i);if("number"==typeof t){const e=o.get(t);if(void 0===e||e.timerId!==i||e.timerType!==r)throw new Error("The timer is in an undefined state.")}else{if(void 0===t)throw new Error("The timer is in an undefined state.");t()}}else if("timeout"===r){const t=n.get(i);if("number"==typeof t){const e=o.get(t);if(void 0===e||e.timerId!==i||e.timerType!==r)throw new Error("The timer is in an undefined state.")}else{if(void 0===t)throw new Error("The timer is in an undefined state.");t(),n.delete(i)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(t)){const{error:{message:e}}=t;throw new Error(e)}{const{id:i}=t,r=o.get(i);if(void 0===r)throw new Error("The timer is in an undefined state.");const{timerId:s,timerType:a}=r;o.delete(i),"interval"===a?e.delete(s):n.delete(s)}}var i}));return{clearInterval:t=>{const n=(0,i.generateUniqueNumber)(o);o.set(n,{timerId:t,timerType:"interval"}),e.set(t,n),r.postMessage({id:n,method:"clear",params:{timerId:t,timerType:"interval"}})},clearTimeout:t=>{const e=(0,i.generateUniqueNumber)(o);o.set(e,{timerId:t,timerType:"timeout"}),n.set(t,e),r.postMessage({id:e,method:"clear",params:{timerId:t,timerType:"timeout"}})},setInterval:(t,n)=>{const o=(0,i.generateUniqueNumber)(e);return e.set(o,(()=>{t(),"function"==typeof e.get(o)&&r.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:o,timerType:"interval"}})})),r.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:o,timerType:"interval"}}),o},setTimeout:(t,e)=>{const o=(0,i.generateUniqueNumber)(n);return n.set(o,t),r.postMessage({id:null,method:"set",params:{delay:e,now:performance.now(),timerId:o,timerType:"timeout"}}),o}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'),s=t=>r().clearInterval(t),a=t=>r().clearTimeout(t),c=(t,e)=>r().setInterval(t,e),u=(t,e)=>r().setTimeout(t,e)},9998:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o.apply(this,arguments)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function l(t){var e=c();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function f(t,e,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=p(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},f(t,e,n||t)}function d(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}var m=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],b=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var o=m.exec(t||""),r={},s=14;s--;)r[g[s]]=o[s]||"";return-1!=n&&-1!=i&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=_(r,r.path),r.queryKey=E(r,r.query),r};function _(t,e){var n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i}function E(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(n[e]=i)})),n}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),i=b(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}var S={exports:{}};try{S.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){S.exports=!1}var k=S.exports,O="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function P(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||k))return new XMLHttpRequest}catch(t){}if(!e)try{return new(O[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function C(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var T=setTimeout,R=clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=T.bind(O),t.clearTimeoutFn=R.bind(O)):(t.setTimeoutFn=setTimeout.bind(O),t.clearTimeoutFn=clearTimeout.bind(O))}var A=B;function B(t){if(t)return M(t)}function M(t){for(var e in B.prototype)t[e]=B.prototype[e];return t}B.prototype.on=B.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},B.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},B.prototype.off=B.prototype.removeListener=B.prototype.removeAllListeners=B.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},B.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e)}return this},B.prototype.emitReserved=B.prototype.emit,B.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},B.prototype.hasListeners=function(t){return!!this.listeners(t).length};var L=Object.create(null);L.open="0",L.close="1",L.ping="2",L.pong="3",L.message="4",L.upgrade="5",L.noop="6";var I=Object.create(null);Object.keys(L).forEach((function(t){I[L[t]]=t}));for(var D={type:"error",data:"parser error"},N="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),j="function"==typeof ArrayBuffer,G=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},F=function(t,e,n){var i=t.type,o=t.data;return N&&o instanceof Blob?e?n(o):z(o,n):j&&(o instanceof ArrayBuffer||G(o))?e?n(o):z(new Blob([o]),n):n(L[i]+(o||""))},z=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H="undefined"==typeof Uint8Array?[]:new Uint8Array(256),U=0;U<V.length;U++)H[V.charCodeAt(U)]=U;var W,Y=function(t){var e,n,i,o,r,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=H[t.charCodeAt(e)],i=H[t.charCodeAt(e+1)],o=H[t.charCodeAt(e+2)],r=H[t.charCodeAt(e+3)],h[c++]=n<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&r;return u},q="function"==typeof ArrayBuffer,X=function(t,e){if("string"!=typeof t)return{type:"message",data:J(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:K(t.substring(1),e)}:I[n]?t.length>1?{type:I[n],data:t.substring(1)}:{type:I[n]}:D},K=function(t,e){if(q){var n=Y(t);return J(n,e)}return{base64:!0,data:t}},J=function(t,e){return"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t},Z=String.fromCharCode(30),Q=function(t,e){var n=t.length,i=new Array(n),o=0;t.forEach((function(t,r){F(t,!1,(function(t){i[r]=t,++o===n&&e(i.join(Z))}))}))},$=function(t,e){for(var n=t.split(Z),i=[],o=0;o<n.length;o++){var r=X(n[o],e);if(i.push(r),"error"===r.type)break}return i},tt=4,et=function(t){r(o,t);var n=l(o);function o(t){var i;return e(this,o),(i=n.call(this)).writable=!1,x(u(i),t),i.opts=t,i.query=t.query,i.readyState="",i.socket=t.socket,i}return i(o,[{key:"onError",value:function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,f(s(o.prototype),"emit",this).call(this,"error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,f(s(o.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(t){var e=X(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){f(s(o.prototype),"emit",this).call(this,"packet",t)}},{key:"onClose",value:function(){this.readyState="closed",f(s(o.prototype),"emit",this).call(this,"close")}}]),o}(A),nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),it=64,ot={},rt=0,st=0;function at(t){var e="";do{e=nt[t%it]+e,t=Math.floor(t/it)}while(t>0);return e}function ct(t){var e=0;for(st=0;st<t.length;st++)e=e*it+ot[t.charAt(st)];return e}function ut(){var t=at(+new Date);return t!==W?(rt=0,W=t):t+"."+at(rt++)}for(;st<it;st++)ot[nt[st]]=st;ut.encode=at,ut.decode=ct;var ht=ut,lt={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}},pt=function(t){r(o,t);var n=l(o);function o(){var t;return e(this,o),(t=n.apply(this,arguments)).polling=!1,t}return i(o,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var i=0;this.polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(t){var e=this,n=function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};$(t,this.socket.binaryType).forEach(n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,Q(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emit("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var i=lt.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}]),o}(et);function ft(){}var dt=null!=new P({xdomain:!1}).responseType,vt=function(t){r(s,t);var n=l(s);function s(t){var i;if(e(this,s),i=n.call(this,t),"undefined"!=typeof location){var o="https:"===location.protocol,r=location.port;r||(r=o?"443":"80"),i.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,i.xs=t.secure!==o}var a=t&&t.forceBase64;return i.supportsBinary=dt&&!a,i}return i(s,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,{xd:this.xd,xs:this.xs},this.opts),new yt(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(function(t){n.onError("xhr post error",t)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}}]),s}(pt),yt=function(t){r(o,t);var n=l(o);function o(t,i){var r;return e(this,o),x(u(r=n.call(this)),i),r.opts=i,r.method=i.method||"GET",r.uri=t,r.async=!1!==i.async,r.data=void 0!==i.data?i.data:null,r.create(),r}return i(o,[{key:"create",value:function(){var t=this,e=C(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var n=this.xhr=new P(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}catch(t){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((function(){t.onError(e)}),0)}"undefined"!=typeof document&&(this.index=o.requestsCount++,o.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(t){this.emit("data",t),this.onSuccess()}},{key:"onError",value:function(t){this.emit("error",t),this.cleanup(!0)}},{key:"cleanup",value:function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ft,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete o.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&this.onData(t)}},{key:"abort",value:function(){this.cleanup()}}]),o}(A);function mt(){for(var t in yt.requests)yt.requests.hasOwnProperty(t)&&yt.requests[t].abort()}yt.requestsCount=0,yt.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",mt):"function"==typeof addEventListener&&addEventListener("onpagehide"in O?"pagehide":"unload",mt,!1));var gt="function"==typeof Promise&&"function"==typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},bt=O.WebSocket||O.MozWebSocket,_t=!0,Et="arraybuffer",wt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),St=function(t){r(o,t);var n=l(o);function o(t){var i;return e(this,o),(i=n.call(this,t)).supportsBinary=!t.forceBase64,i}return i(o,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=wt?{}:C(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=_t&&!wt?e?new bt(t,e):new bt(t):new bt(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||Et,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(n){var i=t[n],o=n===t.length-1;F(i,e.supportsBinary,(function(t){try{_t&&e.ws.send(t)}catch(t){}o&&gt((function(){e.writable=!0,e.emit("drain")}),e.setTimeoutFn)}))},i=0;i<t.length;i++)n(i)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||(t.b64=1);var i=lt.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"check",value:function(){return!(!bt||"__initialize"in bt&&this.name===o.prototype.name)}}]),o}(et),kt={websocket:St,polling:vt},Ot=function(n){r(a,n);var s=l(a);function a(n){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,a),i=s.call(this),n&&"object"===t(n)&&(r=n,n=null),n?(n=b(n),r.hostname=n.host,r.secure="https"===n.protocol||"wss"===n.protocol,r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=b(r.host).host),x(u(i),r),i.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=i.secure?"443":"80"),i.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),i.port=r.port||("undefined"!=typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=r.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=o({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"==typeof i.opts.query&&(i.opts.query=lt.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"==typeof addEventListener&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return i(a,[{key:"createTransport",value:function(t){var e=Pt(this.opts.query);e.EIO=tt,e.transport=t,this.id&&(e.sid=this.id);var n=o({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new kt[t](n)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){e.onClose("transport close")}))}},{key:"probe",value:function(t){var e=this,n=this.createTransport(t),i=!1;a.priorWebsocketSuccess=!1;var o=function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",n),!n)return;a.priorWebsocketSuccess="websocket"===n.name,e.transport.pause((function(){i||"closed"!==e.readyState&&(l(),e.setTransport(n),n.send([{type:"upgrade"}]),e.emitReserved("upgrade",n),n=null,e.upgrading=!1,e.flush())}))}else{var o=new Error("probe error");o.transport=n.name,e.emitReserved("upgradeError",o)}})))};function r(){i||(i=!0,l(),n.close(),n=null)}var s=function(t){var i=new Error("probe error: "+t);i.transport=n.name,r(),e.emitReserved("upgradeError",i)};function c(){s("transport closed")}function u(){s("socket closed")}function h(t){n&&t.name!==n.name&&r()}var l=function(){n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",c),e.off("close",u),e.off("upgrading",h)};n.once("open",o),n.once("error",s),n.once("close",c),this.once("close",u),this.once("upgrading",h),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",a.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},i=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?i():e()})):this.upgrading?i():e()),this}},{key:"onError",value:function(t){a.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}]),a}(A);function Pt(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Ot.protocol=tt;var Ct="function"==typeof ArrayBuffer,Tt=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer},Rt=Object.prototype.toString,xt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Rt.call(Blob),At="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Rt.call(File);function Bt(t){return Ct&&(t instanceof ArrayBuffer||Tt(t))||xt&&t instanceof Blob||At&&t instanceof File}function Mt(e,n){if(!e||"object"!==t(e))return!1;if(Array.isArray(e)){for(var i=0,o=e.length;i<o;i++)if(Mt(e[i]))return!0;return!1}if(Bt(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Mt(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Mt(e[r]))return!0;return!1}function Lt(t){var e=[],n=t.data,i=t;return i.data=It(n,e),i.attachments=e.length,{packet:i,buffers:e}}function It(e,n){if(!e)return e;if(Bt(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(Array.isArray(e)){for(var o=new Array(e.length),r=0;r<e.length;r++)o[r]=It(e[r],n);return o}if("object"===t(e)&&!(e instanceof Date)){var s={};for(var a in e)e.hasOwnProperty(a)&&(s[a]=It(e[a],n));return s}return e}function Dt(t,e){return t.data=Nt(t.data,e),t.attachments=void 0,t}function Nt(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=Nt(e[i],n);else if("object"===t(e))for(var o in e)e.hasOwnProperty(o)&&(e[o]=Nt(e[o],n));return e}var jt,Gt=5;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(jt||(jt={}));var Ft=function(){function t(){e(this,t)}return i(t,[{key:"encode",value:function(t){return t.type!==jt.EVENT&&t.type!==jt.ACK||!Mt(t)?[this.encodeAsString(t)]:(t.type=t.type===jt.EVENT?jt.BINARY_EVENT:jt.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==jt.BINARY_EVENT&&t.type!==jt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}},{key:"encodeAsBinary",value:function(t){var e=Lt(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}]),t}(),zt=function(n){r(a,n);var o=l(a);function a(){return e(this,a),o.call(this)}return i(a,[{key:"add",value:function(t){var e;if("string"==typeof t)(e=this.decodeString(t)).type===jt.BINARY_EVENT||e.type===jt.BINARY_ACK?(this.reconstructor=new Ht(e),0===e.attachments&&f(s(a.prototype),"emitReserved",this).call(this,"decoded",e)):f(s(a.prototype),"emitReserved",this).call(this,"decoded",e);else{if(!Bt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,f(s(a.prototype),"emitReserved",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,n={type:Number(t.charAt(0))};if(void 0===jt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===jt.BINARY_EVENT||n.type===jt.BINARY_ACK){for(var i=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(i,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var r=e+1;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";var s=t.charAt(e+1);if(""!==s&&Number(s)==s){for(var c=e+1;++e;){var u=t.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===t.length)break}n.id=Number(t.substring(c,e+1))}if(t.charAt(++e)){var h=Vt(t.substr(e));if(!a.isPayloadValid(n.type,h))throw new Error("invalid payload");n.data=h}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,n){switch(e){case jt.CONNECT:return"object"===t(n);case jt.DISCONNECT:return void 0===n;case jt.CONNECT_ERROR:return"string"==typeof n||"object"===t(n);case jt.EVENT:case jt.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case jt.ACK:case jt.BINARY_ACK:return Array.isArray(n)}}}]),a}(A);function Vt(t){try{return JSON.parse(t)}catch(t){return!1}}var Ht=function(){function t(n){e(this,t),this.packet=n,this.buffers=[],this.reconPack=n}return i(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Dt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}(),Ut=Object.freeze({__proto__:null,protocol:Gt,get PacketType(){return jt},Encoder:Ft,Decoder:zt});function Wt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Yt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),qt=function(t){r(o,t);var n=l(o);function o(t,i,r){var s;return e(this,o),(s=n.call(this)).connected=!1,s.disconnected=!0,s.receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=t,s.nsp=i,r&&r.auth&&(s.auth=r.auth),s.io._autoConnect&&s.open(),s}return i(o,[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[Wt(t,"open",this.onopen.bind(this)),Wt(t,"packet",this.onpacket.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(Yt.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift(t);var o={type:jt.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var r=this.ids++,s=n.pop();this._registerAckCallback(r,s),o.id=r}var a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?this.packet(o):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,i=this.flags.timeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete n.acks[t];for(var i=0;i<n.sendBuffer.length;i++)n.sendBuffer[i].id===t&&n.sendBuffer.splice(i,1);e.call(n,new Error("operation has timed out"))}),i);this.acks[t]=function(){n.io.clearTimeoutFn(o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.apply(n,[null].concat(i))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:jt.CONNECT,data:e})})):this.packet({type:jt.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case jt.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case jt.EVENT:case jt.BINARY_EVENT:this.onevent(t);break;case jt.ACK:case jt.BINARY_ACK:this.onack(t);break;case jt.DISCONNECT:this.ondisconnect();break;case jt.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,n=y(this._anyListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t)}catch(t){n.e(t)}finally{n.f()}}f(s(o.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];e.packet({type:jt.ACK,id:t,data:o})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){return t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),o}(A),Xt=Kt;function Kt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Kt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Kt.prototype.reset=function(){this.attempts=0},Kt.prototype.setMin=function(t){this.ms=t},Kt.prototype.setMax=function(t){this.max=t},Kt.prototype.setJitter=function(t){this.jitter=t};var Jt=function(n){r(s,n);var o=l(s);function s(n,i){var r,a;e(this,s),(r=o.call(this)).nsps={},r.subs=[],n&&"object"===t(n)&&(i=n,n=void 0),(i=i||{}).path=i.path||"/socket.io",r.opts=i,x(u(r),i),r.reconnection(!1!==i.reconnection),r.reconnectionAttempts(i.reconnectionAttempts||1/0),r.reconnectionDelay(i.reconnectionDelay||1e3),r.reconnectionDelayMax(i.reconnectionDelayMax||5e3),r.randomizationFactor(null!==(a=i.randomizationFactor)&&void 0!==a?a:.5),r.backoff=new Xt({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==i.timeout?2e4:i.timeout),r._readyState="closed",r.uri=n;var c=i.parser||Ut;return r.encoder=new c.Encoder,r.decoder=new c.Decoder,r._autoConnect=!1!==i.autoConnect,r._autoConnect&&r.open(),r}return i(s,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Ot(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var o=Wt(n,"open",(function(){i.onopen(),t&&t()})),r=Wt(n,"error",(function(n){i.cleanup(),i._readyState="closed",e.emitReserved("error",n),t?t(n):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&o();var a=this.setTimeoutFn((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&a.unref(),this.subs.push((function(){clearTimeout(a)}))}return this.subs.push(o),this.subs.push(r),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(Wt(t,"ping",this.onping.bind(this)),Wt(t,"data",this.ondata.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this)),Wt(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new qt(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var i=n[e];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),s}(A),Zt={};function Qt(e,n){"object"===t(e)&&(n=e,e=void 0);var i,o=w(e,(n=n||{}).path||"/socket.io"),r=o.source,s=o.id,a=o.path,c=Zt[s]&&a in Zt[s].nsps;return n.forceNew||n["force new connection"]||!1===n.multiplex||c?i=new Jt(r,n):(Zt[s]||(Zt[s]=new Jt(r,n)),i=Zt[s]),o.query&&!n.query&&(n.query=o.queryKey),i.socket(o.path,n)}return o(Qt,{Manager:Jt,Socket:qt,io:Qt,connect:Qt}),Qt}()}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};n(8615)})();